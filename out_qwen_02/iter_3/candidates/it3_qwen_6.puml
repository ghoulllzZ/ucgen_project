@startuml
actor 用户

'
' 启动与初始化
'
usecase "启动图形编辑器" as 启动图形编辑器
usecase "拖动控制点调整尺寸" as 拖动控制点调整尺寸

'
' 图形操作相关用例
'
usecase "创建图形" as 创建图形
usecase "选择图形" as 选择图形
usecase "删除图形" as 删除图形
usecase "调整图形尺寸" as 调整图形尺寸
usecase "移动图形" as 移动图形

'
' 图层管理相关用例
'
usecase "创建图层" as 创建图层
usecase "管理图层" as 管理图层

'
' 建立 actor 与 use case 的关系
'
用户 --> 创建图形
用户 --> 选择图形
用户 --> 删除图形
用户 --> 调整图形尺寸
用户 --> 移动图形
用户 --> 创建图层
用户 --> 管理图层
用户 --> 启动图形编辑器

'
' include 关系（强制依赖）
'

' 删除图形前必须先选择图形
选择图形 .> 删除图形 : <<include>>

' 调整尺寸前必须先选择图形
选择图形 .> 调整图形尺寸 : <<include>>

' 移动图形前必须先选择图形
选择图形 .> 移动图形 : <<include>>

' 拖动控制点是调整图形尺寸的一种方式（但根据约束，不能 include）
' 根据约束：forbid_include 包含 (拖动控制点调整尺寸) -> (调整图形尺寸)
' 因此不能使用 include。但需求中它是实现方式之一，考虑用 extend 并加条件。

' 添加 extend 关系：当用户拖动控制点时，扩展“调整图形尺寸”
' 注释说明触发条件
' 拖动控制点调整尺寸 在 调整图形尺寸 过程中，当鼠标按下并拖动图形的控制点时触发
拖动控制点调整尺寸 ..> 调整图形尺寸 : <<extend>>\n<<when mouse drags corner control point>>

@enduml
