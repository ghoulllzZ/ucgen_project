@startuml
left to right direction
actor 用户

'
' 基本用例
'
usecase "创建图形" as create_shape
usecase "选择图形" as select_shape
usecase "删除图形" as delete_shape
usecase "改变图形尺寸" as resize_shape
usecase "移动图形" as move_shape
usecase "创建图层" as create_layer
usecase "管理图层" as manage_layer

'
' 用例关联
'
用户 --> create_shape
用户 --> select_shape
用户 --> delete_shape
用户 --> create_layer
用户 --> manage_layer

'
' 扩展关系（extend）
'

' 扩展点 EP1：图形已被选中并显示控制点 → 改变图形尺寸
' 当用户拖动控制点或点击“放大/缩小”按钮时，可触发改变图形尺寸
select_shape ..> resize_shape : <<extend>>\n[EP1: 图形已被选中\n并显示控制点]
note on link
  触发条件：
  - 拖动控制点
  - 点击“放大”或“缩小”按钮
end note

' 扩展点 EP2：图形已被选中 → 移动图形
' 当用户在已选中图形内部按下并拖动鼠标时，可触发移动图形
select_shape ..> move_shape : <<extend>>\n[EP2: 图形已被选中]
note on link
  触发条件：
  - 在选中图形内部按下鼠标并拖动
end note

'
' 包含关系（include）
'
' 创建图形必须包含图形类型选择和图层初始化准备（隐含流程）
' 但根据需求，创建图形本身是独立主路径，无需显式 include 其他基础用例

' 选择图形是删除、移动、缩放的前提，但这些是扩展而非包含
' 根据约束，仅当存在强制性因果依赖时才使用 include

' 管理图层操作中必然涉及切换当前图层，并重置创建状态
' 但“重置创建状态”不是独立用例，故不建模为 include

@enduml
