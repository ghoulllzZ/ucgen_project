@startuml
actor 用户

usecase "创建图形" as create_shape
usecase "选择图形" as select_shape
usecase "删除图形" as delete_shape
usecase "改变图形尺寸" as resize_shape
usecase "移动图形" as move_shape
usecase "创建图层" as create_layer
usecase "管理图层" as manage_layers

' 用户与核心用例的关联
用户 --> create_shape
用户 --> select_shape
用户 --> delete_shape
用户 --> create_layer
用户 --> manage_layers

' 选择图形后可扩展为改变图形尺寸（在显示控制点后，拖动控制点或点击放大/缩小按钮）
' 扩展点EP1：图形已被选中并显示控制点；触发条件：用户拖动控制点或点击“放大/缩小”按钮
select_shape ..> resize_shape : <<extend>>
note on link
  扩展点EP1: 图形已被选中并显示控制点
  触发条件: 拖动控制点或点击"放大/缩小"
end note

' 选择图形后可扩展为移动图形（在图形被选中后，于内部拖动）
' 扩展点EP2：图形已被选中；触发条件：在已选中图形内部按下并拖动鼠标
select_shape ..> move_shape : <<extend>>
note on link
  扩展点EP2: 图形已被选中
  触发条件: 在选中图形内部按下并拖动
end note

' 删除图形依赖于先选择图形，但根据约束 forbid_include 中禁止 "选择图形" include "删除图形"
' 同时根据冲突信息 edge_presence_uncertain 置信度低，且硬性要求不得建立错误 include
' 因此不添加 include 关系，仅通过用户顺序操作表达逻辑先后

@enduml
