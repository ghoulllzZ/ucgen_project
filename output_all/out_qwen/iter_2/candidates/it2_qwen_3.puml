@startuml
actor 用户

' 必须包含的用例
usecase "启动图形编辑器" as UC1
usecase "创建图形" as UC2
usecase "选择图形" as UC3
usecase "删除图形" as UC4
usecase "调整图形尺寸" as UC5
usecase "移动图形" as UC6
usecase "创建新图层" as UC7
usecase "管理图层" as UC8

' 根据约束保留和禁止的用例处理：以下用例被明确禁止，不应出现
' 被禁用的用例（根据 forbid_usecases）：切换图层, 显示初始界面, 更新图形提示, 初始化编辑器, 点击放大缩小按钮, 切换当前图层, 选择创建的图形类型, 拖动控制点调整尺寸, 扩展支持的新图形类型, 动态绘制图形, 删除所选图形

' 参与者与用例关联
用户 --> UC1 : 启动软件
用户 --> UC2 : 创建新图形
用户 --> UC3 : 选择一个或多个图形
用户 --> UC4 : 删除已选图形
用户 --> UC5 : 改变图形大小
用户 --> UC6 : 拖动移动图形
用户 --> UC7 : 添加新图层
用户 --> UC8 : 在多个图层间切换

' include 关系（强制性依赖），依据 must_include 和约束判断
' 删除图形 前必须先 选择图形
UC4 .> UC3 : <<include>>
' 注释：删除图形前必须先选择图形
' 调整图形尺寸 前必须先 选择图形
UC5 .> UC3 : <<include>>
' 注释：调整尺寸前必须先选择图形

' extend 关系：根据需求分析，无显式扩展条件，且约束中 extend 为空，forbid_extend 存在，故不添加任何 extend

' 其他约束处理：
' - 禁止的 include 已忽略（如 启动图形编辑器 -> 显示初始界面 等）
' - 禁止的 usecase 不得出现在图中
' - 保持 "启动图形编辑器" 作为独立顶层用例

@enduml
