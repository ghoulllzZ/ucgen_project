@startuml
actor 用户

'
' 启动图形编辑器用例（保持用例，根据约束）
usecase "启动图形编辑器" as UC1
'
' 创建图形功能
usecase "创建图形" as UC2
用户 --> UC2 : 创建图形
UC2 .> UC1 : include
' 创建图形必须在编辑器启动后执行

'
' 选择图形功能
usecase "选择图形" as UC3
用户 --> UC3 : 选择图形
'
' 删除图形：必须先选择图形
usecase "删除图形" as UC4
' 选择图形是删除的前提
' 删除图形依赖于先选择图形
UC4 .> UC3 : include
用户 --> UC4 : 删除图形

'
' 调整图形尺寸：必须先选择图形
usecase "调整图形尺寸" as UC5
' 调整尺寸前必须选择图形
UC5 .> UC3 : include
用户 --> UC5 : 调整图形尺寸

'
' 移动图形：必须先选择图形
usecase "移动图形" as UC6
' 移动图形前必须选择图形
UC6 .> UC3 : include
用户 --> UC6 : 移动图形

'
' 创建新图层
usecase "创建新图层" as UC7
用户 --> UC7 : 创建新图层
'
' 管理图层（包含切换图层）
usecase "管理图层" as UC8
用户 --> UC8 : 管理图层

'
' 用例间关系补充说明（根据需求与约束）

' 创建新图层最多16个，超过则不能创建
' 扩展点：图层数量未达上限时可创建
' extend 关系需注明条件
UC7 <.. UC8 : extend
' <<extend>> from 管理图层 to 创建新图层\nwhen 图层数量 < 16

' 切换图层属于管理图层的一部分
UC8 <.. UC7 : extend
' <<extend>> from 创建新图层 to 管理图层\nwhen 新图层被创建后可切换

' 启动图形编辑器初始化第一个图层和界面状态
UC1 .> UC7 : include
' 启动时自动创建第一个图层

' 创建图形时可选择类型，但“选择创建的图形类型”被禁止作为独立用例
' 故合并到创建图形中，不单独建模

' 图形提示区域提示“第一页”等信息，但“更新图形提示”被禁止作为用例
' 相关行为作为其他用例的副作用，不单独建模

' “切换图层”被禁止作为独立用例，已并入“管理图层”

@enduml
