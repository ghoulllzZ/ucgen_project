@startuml
actor 用户 as 用户

'
usecase "启动图形编辑器" as 启动图形编辑器
usecase "创建图形" as 创建图形
usecase "选择图形" as 选择图形
usecase "删除图形" as 删除图形
usecase "调整图形尺寸" as 调整图形尺寸
usecase "移动图形" as 移动图形
usecase "创建新图层" as 创建新图层
usecase "管理图层" as 管理图层

'
用户 --> 启动图形编辑器
用户 --> 创建图形
用户 --> 选择图形
用户 --> 删除图形
用户 --> 调整图形尺寸
用户 --> 移动图形
用户 --> 创建新图层
用户 --> 管理图层

'
' 删除图形必须先选择图形（强制依赖）
(删除图形) .> (选择图形) : include

'
' 调整图形尺寸前必须先选择图形（强制依赖）
(调整图形尺寸) .> (选择图形) : include

'
' 移动图形前必须先选择图形（强制依赖）
(移动图形) .> (选择图形) : include

'
' 创建新图层后，图层编号提示更新并在工具区重置为矩形创建状态
(创建新图层) ..> (启动图形编辑器) : extend
note right of (创建新图层) .. (启动图形编辑器)
扩展点: 图层创建完成且未超16页限制时
条件: 新图层被成功创建并设为当前图层
end note

'
' 管理图层操作中切换图层会触发图层状态重置为创建矩形
(管理图层) ..> (启动图形编辑器) : extend
note right of (管理图层) .. (启动图形编辑器)
扩展点: 成功切换当前图层后
条件: 当前图层发生变化，无论是否循环切换
end note

@enduml
