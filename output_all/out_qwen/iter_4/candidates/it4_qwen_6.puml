@startuml
actor 用户 as 用户

'
' 基础用例
'
usecase "启动图形编辑器" as 启动图形编辑器
usecase "创建图形" as 创建图形
usecase "选择图形" as 选择图形
usecase "删除图形" as 删除图形
usecase "调整图形尺寸" as 调整图形尺寸
usecase "移动图形" as 移动图形
usecase "创建新图层" as 创建新图层
usecase "管理图层" as 管理图层

'
' 强制包含关系 (include)
'
' 删除图形必须先选择图形
启动图形编辑器 --> 选择图形 : <<include>>
创建图形 --> 选择图形 : <<include>>
管理图层 --> 选择图形 : <<include>>
创建新图层 --> 选择图形 : <<include>>
移动图形 --> 选择图形 : <<include>>
调整图形尺寸 --> 选择图形 : <<include>>
删除图形 --> 选择图形 : <<include>>

' 调整图形尺寸必须先选择图形（已满足）
' 移动图形必须先选择图形（已满足）

'
' 扩展关系 (extend) —— 根据约束，无合法的 extend 存在，且多数被 forbid
' 按照约束：所有提议的 extend 均被禁止或缺少条件，故不添加任何 extend

'
' 参与者关联
'
用户 --> 启动图形编辑器
用户 --> 创建图形
用户 --> 选择图形
用户 --> 删除图形
用户 --> 调整图形尺寸
用户 --> 移动图形
用户 --> 创建新图层
用户 --> 管理图层

'
' 约束处理说明：
' - 已移除所有 forbid_usecases 中列出的用例（如“切换图层”、“更新图形提示”等）
' - “管理图层”代替“切换图层”，因“切换图层”被禁止
' - “创建新图层”和“管理图层”独立存在，不相互 include/extend，避免违反 forbid 规则
' - 未引入任何被禁止的 include 或 extend 关系
' - 遵循 must_include 列表，确保每个指定包含均存在

@enduml
