1. 系统概述
1.1 本系统为单用户图形编辑器，用户可以在多图层画布上创建、编辑和管理几何图形。
1.2 系统当前支持的基本图形类型包括：矩形、直线、椭圆；后续可以扩展更多图形类型。
1.3 每个图形隶属于唯一的图层；用户对图形的操作（创建、选择、移动、删除、缩放）均作用于当前图层中的图形。
2. 系统初始状态
当用户启动图形编辑器时，系统自动完成以下初始化：
图形工具区域中的“创建图形选择框”默认选中 “矩形”；
编辑区域自动创建第一个编辑图层，并将其设为当前图层；
图形提示区域显示“第一页”，表示当前图层编号为 1。
3. 功能需求
3.1 创建图形功能
用户在图形工具区域的“创建图形选择框”中选择图形类型（直线、椭圆、矩形之一）。
用户将鼠标移动到编辑区域当前图层，在画布空白处按下鼠标确定起始点并拖动，系统在拖动过程中以虚线动态显示所选图形的轮廓。
用户释放鼠标时确定终止点，系统在起始点和终止点形成的矩形包络区域内创建对应的几何图形，将该图形隶属于当前图层。
约束：创建图形操作始终作用于当前图层。
3.2 选择图形功能
3.2.1 基本功能
支持单选和多选两种方式。
当用户在图像编辑区域当前图层中，将鼠标移动到某一图形内部，按下鼠标后释放：
该图形被选中；
被选中图形外嵌的矩形四角高亮显示控制点，表示图形处于选择状态。
当图形发生叠加嵌套时，在叠加区域点击可以选择叠加区域内的多个图形（可用于多选，具体命中策略可在实现时进一步细化）。
当用户按下鼠标并拖动，在画布中绘制一个虚线矩形区域并释放鼠标后：
位于该矩形区域内的所有图形将被加入选中集合，实现框选多选。
当用户在图形编辑区任一空白处点击时：
系统取消当前所有图形的选择状态。
3.2.2 扩展点定义
扩展点 EP1：图形已被选中并显示控制点
在该扩展点上，用户可以选择执行扩展用例 “改变图形尺寸”：
例如用户拖动控制点或点击“放大 / 缩小”按钮，以调整选中图形的尺寸。
扩展点 EP2：图形已被选中
在该扩展点上，用户可以选择执行扩展用例 “移动图形”：
例如用户在选中图形内部按下鼠标并拖动，以改变图形的位置。
3.3 删除图形功能
用户首先通过“选择图形”功能选中一个或多个图形。
用户在图形提示区域点击“删除元素”按钮：
系统解除所选图形与其所属图层之间的隶属关系；
将所有选中图形从当前图层中删除。
删除后，这些图形在编辑区域中不再显示，也不再参与后续的选择、移动、缩放等操作。
若当前没有任何图形被选中，则点击“删除元素”按钮时不执行删除操作（可选择性提示用户当前无选中图形）。
3.4 改变图形尺寸功能
3.4.1 基本说明
基础用例：选择图形
扩展点：EP1 —— “图形已被选中并显示控制点”
扩展条件：
用户在控制点上按下并拖动鼠标，或
用户在图形工具区域点击“放大”或“缩小”按钮。
3.4.2 执行流程
在“选择图形”用例执行到扩展点 EP1 且满足扩展条件时，本扩展用例可以被触发并执行：
用户在已选中图形的某个控制点上按下鼠标。
用户拖动鼠标，系统根据拖动方向和距离，实时改变该图形的尺寸，并动态刷新显示。
鼠标释放时，图形尺寸更新为最终状态。
或：
用户选中一个或多个图形（已在基础用例中完成，处于 EP1 状态）；
用户在图形工具区域点击“放大”或“缩小”按钮；
系统按照预设的缩放比例，对所有已选中的图形进行等比例放大或缩小。
3.4.3 约束
改变图形尺寸操作仅在“选择图形”用例成功选中图形之后才可能发生。
改变图形尺寸操作只对当前图层中已选中的图形生效。
若当前没有任何图形被选中，则扩展条件不成立，本扩展用例不被触发（用户点击“放大 / 缩小”时可提示“当前无选中图形”）。
3.5 移动图形功能
3.5.1 基本说明
基础用例：选择图形
扩展点：EP2 —— “图形已被选中”
扩展条件：
用户在某个已选中图形内部按下鼠标并拖动。
3.5.2 执行流程
在“选择图形”用例执行到扩展点 EP2 且满足扩展条件时，本扩展用例可以被触发并执行：
用户在某个已选中图形的内部按下鼠标。
用户拖动鼠标，系统根据鼠标移动距离，实时拖动所有已选中的图形，实现整体平移。
鼠标释放后，系统确定图形的新位置，并更新显示。
3.5.3 约束
移动图形操作仅在“选择图形”用例成功选中至少一个图形之后才可能发生。
移动操作只对当前图层中已选中的图形生效。
当“整个图形编辑器”移动时（例如移动应用窗口或滚动画布）：
视图位置发生变化，但编辑区域当前图层中所有图形的逻辑坐标保持不变；
选中图形的控制点显示状态保持不变；
该行为不作为“移动图形”用例的一部分。
3.6 创建图层功能
用户在图形工具区域点击“新页”按钮：
系统在图形编辑区域创建一个新的图层，并将其设为当前图层；
新图层创建后，用户可以在其上进行图形的创建、选择、移动、删除等操作。
新图层创建的同时：
图形提示区域给出新图层的编号提示（如“第 N 页”）；
图形工具区域的“创建图形选择框”重置并显示为“矩形”，表示当前图层处于创建矩形状态。
若系统中已存在的图层数量达到 16：
再次点击“新页”按钮时，不再创建新的图层，并可提示用户“已达到最大图层数量”。
3.7 管理图层功能
用户在图形工具区域点击“下一页”按钮，用于在多个图层之间切换：
若当前图层不是最后一个图层，则切换到编号紧接其后的图层；
若当前图层为最后一个图层，则切换到第一个图层，实现循环切换。
图层切换后：
图形提示区域更新显示当前图层编号；
图形工具区域的“创建图形选择框”重置为“矩形”，表示切换后的当前图层的默认创建状态为矩形。
所有对图形的操作（创建、选择、移动、删除、改变尺寸）都只作用于当前图层。
4. 约束条件
（1）图形类型可扩展性
图形编辑器在设计上应支持扩展新的图形类型（如多边形、圆弧等），在扩展后：
新增图形类型能够通过“创建图形”用例进行创建；
并自然地支持“选择图形”“删除图形”“改变图形尺寸”“移动图形”等现有操作，无需改变这些用例之间的结构关系。
（2）用例范围
本需求文档中明确的用户用例如下：
创建图形
选择图形
删除图形
创建图层
改变图形尺寸
移动图形
管理图层