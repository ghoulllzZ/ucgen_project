{
  "args": {
    "req": "examples\\req_primary_graph_editor.txt",
    "out": "out_qwen_06_asp_print",
    "max_iters": 3,
    "backend": "qwen",
    "temperature": 0.9,
    "n_samples": 6,
    "models": [],
    "seed": 7,
    "interactive": false,
    "jaccard_threshold": 0.98,
    "render": "auto"
  },
  "constraints": {
    "must_include": [
      {
        "base": "选择图形",
        "included": "选择图形"
      },
      {
        "base": "删除图形",
        "included": "选择图形"
      },
      {
        "base": "调整图形尺寸",
        "included": "选择图形"
      },
      {
        "base": "移动图形",
        "included": "选择图形"
      }
    ],
    "forbid_include": [
      {
        "base": "启动图形编辑器",
        "included": "创建新图层"
      },
      {
        "base": "启动图形编辑器",
        "included": "选择图形"
      },
      {
        "base": "创建图形",
        "included": "切换图层"
      },
      {
        "base": "切换图层",
        "included": "创建图形"
      },
      {
        "base": "创建图形",
        "included": "选择图形"
      },
      {
        "base": "调整图形尺寸",
        "included": "创建图形"
      },
      {
        "base": "启动图形编辑器",
        "included": "创建图层"
      }
    ],
    "extend": [],
    "forbid_extend": [
      {
        "base": "切换图层",
        "extension": "创建新图层"
      },
      {
        "base": "切换图层",
        "extension": "创建图层"
      },
      {
        "base": "创建图形",
        "extension": "切换图层"
      }
    ],
    "keep_actors": [],
    "forbid_actors": [],
    "keep_usecases": [
      "启动图形编辑器",
      "切换图层"
    ],
    "forbid_usecases": [
      "限制最多16个图层",
      "点击缩小按钮",
      "创建初始图层",
      "单选图形",
      "点击删除按钮",
      "选择直线、椭圆或矩形",
      "拖动控制点调整尺寸",
      "点击下一页按钮",
      "在编辑区域绘制图形",
      "多选图形",
      "设置新图层为当前图层",
      "循环切换至首页",
      "显示第一页提示",
      "提示新图层编号",
      "点击放大按钮",
      "删除所选图形",
      "设置默认创建图形为矩形",
      "重置创建图形为矩形",
      "切换当前图层",
      "取消选择",
      "使用放大按钮",
      "初始化编辑环境",
      "动态绘制图形",
      "使用缩小按钮",
      "扩展图形类型"
    ]
  },
  "iterations": [
    {
      "iter_index": 1,
      "candidates": [
        {
          "candidate_id": "it1_qwen_1",
          "model": "qwen",
          "temperature": 0.9,
          "seed": 1099,
          "plantuml": "@startuml\nactor 用户\n\n'\n' 系统初始化相关用例\n'\nusecase \"启动图形编辑器\" as usecase1\nusecase \"创建初始图层\" as usecase2\nusecase \"显示第一页提示\" as usecase3\nusecase \"设置默认创建图形为矩形\" as usecase4\n\n用户 --> usecase1\nusecase1 --> usecase2 : includes\n' 启动时必须创建第一个编辑图层\nusecase1 --> usecase3 : includes\n' 启动时提示区域必须显示“第一页”\nusecase1 --> usecase4 : includes\n' 启动时创建图形选择框必须显示矩形\n\n'\n' 图形创建功能\n'\nusecase \"创建图形\" as usecase5\nusecase \"选择直线、椭圆或矩形\" as usecase6\nusecase \"在编辑区域绘制图形\" as usecase7\n\n用户 --> usecase5\nusecase5 --> usecase6 : includes\n' 创建图形前必须选择图形类型\nusecase5 --> usecase7 : includes\n' 必须在编辑区域拖拽绘制图形\nusecase7 --> usecase2 : extends\n' 绘制图形仅在已创建的图层上进行，扩展点：存在当前图层\n\n'\n' 图形选择功能\n'\nusecase \"选择图形\" as usecase8\nusecase \"单选图形\" as usecase9\nusecase \"多选图形\" as usecase10\nusecase \"取消选择\" as usecase11\n\n用户 --> usecase8\nusecase8 --> usecase9 : includes\n' 单击图形内部可选中一个图形\nusecase8 --> usecase10 : includes\n' 拖拽矩形框或多层嵌套时可多选\nusecase8 --> usecase11 : includes\n' 在空白处点击取消所有选择\n\n'\n' 删除图形功能\n'\nusecase \"删除所选图形\" as usecase12\nusecase \"点击删除按钮\" as usecase13\n\n用户 --> usecase12\nusecase12 --> usecase13 : includes\n' 删除操作需通过点击删除按钮触发\nusecase12 --> usecase8 : includes\n' 必须先选择图形才能删除\n\n'\n' 改变图形尺寸功能\n'\nusecase \"改变图形尺寸\" as usecase14\nusecase \"拖动控制点调整尺寸\" as usecase15\nusecase \"点击放大按钮\" as usecase16\nusecase \"点击缩小按钮\" as usecase17\n\n用户 --> usecase14\nusecase14 --> usecase15 : includes\n' 通过拖动控制点可调整尺寸\nusecase14 --> usecase16 : includes\n' 可通过点击放大按钮实现\nusecase14 --> usecase17 : includes\n' 可通过点击缩小按钮实现\nusecase14 --> usecase8 : includes\n' 必须先选择图形才能调整尺寸\n\n'\n' 移动图形功能\n'\nusecase \"移动图形\" as usecase18\n\n用户 --> usecase18\nusecase18 --> usecase8 : includes\n' 必须先选择图形才能移动\n' 移动时保持图层和控制点状态不变\n\n'\n' 图层管理功能\n'\nusecase \"创建新图层\" as usecase19\nusecase \"限制最多16个图层\" as usecase20\nusecase \"提示新图层编号\" as usecase21\nusecase \"设置新图层为当前图层\" as usecase22\nusecase \"重置创建图形为矩形\" as usecase23\n\n用户 --> usecase19\nusecase19 --> usecase20 : includes\n' 创建新图层时必须检查数量是否超限\nusecase19 --> usecase21 : includes\n' 新图层创建后必须提示编号\nusecase19 --> usecase22 : includes\n' 新图层必须设为当前图层\nusecase19 --> usecase23 : includes\n' 新图层操作状态重置为创建矩形\nusecase20 --> usecase2 : extends\n' 扩展点：已有16个图层时无法创建，条件：图层数 ≥ 16\n\n'\n' 切换图层功能\n'\nusecase \"切换当前图层\" as usecase24\nusecase \"点击下一页按钮\" as usecase25\nusecase \"循环切换至首页\" as usecase26\n\n用户 --> usecase24\nusecase24 --> usecase25 : includes\n' 通过点击“下一页”按钮触发\nusecase24 --> usecase26 : includes\n' 若为最后一页则切换回第一页\nusecase24 --> usecase23 : includes\n' 切换后重置创建图形为矩形\nusecase24 --> usecase3 : includes\n' 切换后更新提示区域的页码提示\n\n@enduml\n"
        },
        {
          "candidate_id": "it1_qwen_2",
          "model": "qwen",
          "temperature": 0.9,
          "seed": 1116,
          "plantuml": "@startuml\nactor 用户\n\n' 软件初始启动时执行初始化设置\n用户 --> (初始化图形编辑器)\n(初始化图形编辑器) : 创建默认图层、选择框默认为矩形、提示区域显示“第一页”\n\n' 创建图形是基本功能，用户通过选择形状并拖拽绘制\n用户 --> (创建图形)\n(创建图形) : 从选择框选直线/椭圆/矩形，在编辑区拖动绘制\n\n' 选择图形包括单选、多选和取消选择\n用户 --> (选择图形)\n(选择图形) : 点击图形内部选择，支持叠加多选；拖拽框选多个；空白点击取消选择\n\n' 删除图形依赖于先有图形被选择\n用户 --> (删除图形)\n' 删除图形的前提是已有被选中的图形\n(删除图形) .> (选择图形) : <<include>>\n' 必须先选择图形才能删除\n\n' 改变图形尺寸可通过拖动控制点或使用放大缩小按钮\n用户 --> (改变图形尺寸)\n' 改变尺寸可通过两种方式：拖动控制点或点击按钮\n(改变图形尺寸) .> (选择图形) : <<include>>\n' 必须先选择图形才能改变其尺寸\n\n' 移动图形需要先选择图形\n用户 --> (移动图形)\n' 移动操作作用于已选择的图形\n(移动图形) .> (选择图形) : <<include>>\n' 必须先选择图形才能移动\n\n' 创建新图层会初始化新图层状态\n用户 --> (创建图层)\n' 创建新图层时自动设为当前图层，提示编号，限制最多16个\n' 创建图层后进入创建矩形状态\n(创建图层) : 最多允许16个图层；新图层为当前层；提示编号；默认创建矩形\n\n' 管理图层包括切换图层（如下一页）\n用户 --> (管理图层)\n' 切换当前图层，并更新提示信息，操作状态重置为创建矩形\n(管理图层) : 可循环切换图层；更新提示编号；重置为创建矩形状态\n\n' 图层创建成功后，系统可扩展支持更多图形类型（未来可能）\n' 当前创建图形功能可被扩展以支持新的图形种类\n(创建图形) <.. (扩展图形种类) : <<extend>>\n' 扩展点：在创建图形选择框中增加新图形类型（如多边形、曲线等）\nnote right of (扩展图形种类)\n  根据约束条件（1），系统支持在创建图形种类上进行扩展\nend note\n\n@enduml\n",
          "parse_error": "无法解析的 PlantUML 行 (line 6): (初始化图形编辑器) : 创建默认图层、选择框默认为矩形、提示区域显示“第一页”"
        },
        {
          "candidate_id": "it1_qwen_3",
          "model": "qwen",
          "temperature": 0.9,
          "seed": 1133,
          "plantuml": "@startuml\nactor 用户 as User\n\n'\n' 启动与初始化相关用例\n'\nusecase \"启动图形编辑器\" as UC1\nusecase \"初始化编辑环境\" as UC2\nUser --> UC1\nUC1 ..> UC2 : include\n' 初始化包括创建默认图层、设置默认选择等\n\n'\n' 图形创建相关用例\n'\nusecase \"创建图形\" as UC3\nusecase \"选择图形类型\" as UC4\nusecase \"动态绘制图形\" as UC5\nUser --> UC3\nUC3 ..> UC4 : include\n' 创建图形必须先选择类型（直线/椭圆/矩形）\nUC3 ..> UC5 : include\n' 创建过程中必须执行动态绘制\n\n'\n' 图形选择相关用例\n'\nusecase \"选择图形\" as UC6\nusecase \"单选图形\" as UC7\nusecase \"多选图形\" as UC8\nusecase \"取消选择\" as UC9\nUser --> UC6\nUC6 ..> UC7 : include\n' 选择操作包含单选情形\nUC6 ..> UC8 : include\n' 支持通过框选或叠加点击实现多选\nUC6 ..> UC9 : include\n' 点击空白区域取消所有选择\n\n'\n' 图形删除功能\n'\nusecase \"删除所选图形\" as UC10\nUser --> UC10\n' 先选择，再删除，依赖选择状态\n\n'\n' 尺寸调整功能\n'\nusecase \"改变图形尺寸\" as UC11\nusecase \"拖动控制点调整尺寸\" as UC12\nusecase \"使用放大按钮\" as UC13\nusecase \"使用缩小按钮\" as UC14\nUser --> UC11\nUC11 ..> UC12 : include\n' 拖动控制点是改变尺寸的一种方式\nUC11 ..> UC13 : include\n' 点击“放大”按钮直接放大选中图形\nUC11 ..> UC14 : include\n' 点击“缩小”按钮直接缩小选中图形\n\n'\n' 移动图形功能\n'\nusecase \"移动图形\" as UC15\nUser --> UC15\n' 在图形内部按下并拖动以移动位置\n\n'\n' 图层管理功能\n'\nusecase \"创建新图层\" as UC16\nusecase \"切换图层\" as UC17\nusecase \"管理图层\" as UC18\nUser --> UC16\nUser --> UC18\nUC18 ..> UC17 : include\n' 管理图层包含切换图层操作\nUC16 ..> UC2 : include\n' 新建图层时需初始化其状态（如默认创建矩形）\n\n'\n' 系统约束和扩展说明\n'\nnote right of UC16\n  如果图层数量超过16个，\n  则不能再创建新图层。\nend note\n\nnote right of UC17\n  若当前为最后一页，则\n  切换至第一页。\n  切换后操作状态重置为创建“矩形”。\nend note\n\nnote right of UC3\n  支持未来在创建的图形种类上扩展\n  （约束条件：可在创建的图形种类上扩展）\nend note\n\n@enduml\n"
        },
        {
          "candidate_id": "it1_qwen_4",
          "model": "qwen",
          "temperature": 0.9,
          "seed": 1150,
          "plantuml": "@startuml\nactor 用户 as User\n\n' 初始启动功能\nusecase \"启动图形编辑器\" as UC1\nUser --> UC1 : 启动系统\n\n' 创建图形功能\nusecase \"创建图形\" as UC2\nUser --> UC2 : 选择并绘制图形\n' 图形创建过程中必须初始化默认图层和提示信息\nUC1 ..> UC2 : include\n' include 因果：启动时必须创建第一个图层并设置默认状态\nnote on link\n  启动后自动创建第一个图层，\n  编辑区域产生初始图层，“第一页”提示\nend note\n\n' 选择图形功能\nusecase \"选择图形\" as UC3\nUser --> UC3 : 在编辑区点击或框选图形\n' 创建图形后可进行选择\nUC2 ..> UC3 : include\n' include 因果：只有存在图形才能被选择\n\n' 删除图形功能\nusecase \"删除图形\" as UC4\nUser --> UC4 : 点击“删除元素”按钮\n' 必须先选择图形才能删除\nUC3 ..> UC4 : include\n' include 因果：删除操作依赖于已选择的图形\n\n' 改变图形尺寸功能\nusecase \"改变图形尺寸\" as UC5\nUser --> UC5 : 拖动控制点或使用放大/缩小按钮\n' 改变尺寸前必须选择图形\nUC3 ..> UC5 : include\n' include 因果：只有被选择的图形才能调整尺寸\n\n' 移动图形功能\nusecase \"移动图形\" as UC6\nUser --> UC6 : 在图形内拖动以移动位置\n' 移动操作依赖于图形被选择\nUC3 ..> UC6 : include\n' include 因果：只有选中图形才能移动\n\n' 创建图层功能\nusecase \"创建新图层\" as UC7\nUser --> UC7 : 点击“新页”按钮\n' 每个新图层创建时必须编号并设为当前层\nUC7 ..> UC2 : extend\n' extend 条件：当新图层创建成功后，自动进入创建矩形状态（扩展点：图层初始化）\nnote right of UC7\n  最多支持16个图层；\n  超过则禁用“新页”按钮\nend note\n\n' 管理图层功能\nusecase \"切换图层\" as UC8\nUser --> UC8 : 点击“下一页”按钮切换当前层\n' 切换图层后重置为创建矩形状态\nUC8 ..> UC2 : extend\n' extend 条件：图层切换完成后触发创建状态重置（扩展点：图层状态初始化）\n\n' 约束体现：图形种类可扩展\nusecase \"扩展图形类型\" as UC9\nUC9 --> UC2 : include\n' include 因果：新增图形类型将被用于创建流程中\nnote right of UC9\n  系统支持未来添加多边形、曲线等图形\nend note\n\n@enduml\n"
        },
        {
          "candidate_id": "it1_qwen_5",
          "model": "qwen",
          "temperature": 0.9,
          "seed": 1167,
          "plantuml": "@startuml\nactor 用户\n\n'\n' 初始化与启动\n'\nusecase \"启动图形编辑器\" as UC1\n用户 --> UC1\n'\n' 图形操作相关用例\n'\nusecase \"创建图形\" as UC2\n用户 --> UC2\n'\n' 选择图形功能包含单选、多选和取消选择\n'\nusecase \"选择图形\" as UC3\n用户 --> UC3\n'\n' 删除所选图形\n'\nusecase \"删除图形\" as UC4\n用户 --> UC4\n'\n' 改变图形尺寸：通过控制点拖动或使用放大/缩小按钮\n'\nusecase \"改变图形尺寸\" as UC5\n用户 --> UC5\n'\n' 移动图形位置\n'\nusecase \"移动图形\" as UC6\n用户 --> UC6\n'\n' 图层管理功能\n'\nusecase \"创建新图层\" as UC7\n用户 --> UC7\n'\nusecase \"切换图层\" as UC8\n用户 --> UC8\n\n'\n' 关联关系\n'\n用户 --> UC1\n用户 --> UC2\n用户 --> UC3\n用户 --> UC4\n用户 --> UC5\n用户 --> UC6\n用户 --> UC7\n用户 --> UC8\n\n'\n' 包含关系（include）：强制依赖\n'\n' 启动时必须初始化图层和提示信息\nUC1 ..> UC7 : <<include>>\n' '启动编辑器' 必须包含 '创建第一个图层'\n\nUC1 ..> UC3 : <<include>>\n' '启动编辑器' 必须初始化选择状态（无图形被选）\n\n'\n' 选择图形是删除的前提\nUC4 ..> UC3 : <<include>>\n' 删除图形前必须先选择图形\n\n'\n' 改变尺寸和移动都依赖于先选择图形\nUC5 ..> UC3 : <<include>>\n' 改变图形尺寸前必须选择图形\n\nUC6 ..> UC3 : <<include>>\n' 移动图形前必须选择图形\n\n'\n' 创建图形必须在当前图层上进行\nUC2 ..> UC8 : <<include>>\n' 创建图形需依赖当前图层存在，由切换图层确保状态\n\n'\n' 切换图层后重置图形创建状态为矩形\nUC8 ..> UC2 : <<include>>\n' 切换图层后默认进入创建矩形状态\n\n'\n' extend 关系：扩展用例在特定条件下触发\n'\n' 当图层数未达上限时才可创建新图层\nUC7 ..> UC8 : <<extend>>\n' 扩展点: 图层数量 ≤ 16 时允许创建并自动切换到新图层\n\n' 当鼠标在空白区域点击时，取消所有选择\nUC3 ..> UC3 : <<extend>>\n' 扩展点: 在编辑区空白处点击 → 取消所有已选图形\n\n' 多选操作是对基本选择的扩展\nUC3 ..> UC3 : <<extend>>\n' 扩展点: 拖拽形成虚线框或点击嵌套区域 → 多选图形\n\n@enduml\n"
        },
        {
          "candidate_id": "it1_qwen_6",
          "model": "qwen",
          "temperature": 0.9,
          "seed": 1184,
          "plantuml": "@startuml\nactor 用户 as User\n\n'\n' 1. 软件初始启动功能\n'\nusecase \"启动图形编辑器\" as usecase_start\nUser --> usecase_start\n\n'\n' 2. 创建图形功能\n'\nusecase \"创建图形\" as usecase_create_shape\nUser --> usecase_create_shape\n\n'\n' 3. 选择图形功能\n'\nusecase \"选择图形\" as usecase_select_shape\nUser --> usecase_select_shape\n\n'\n' 4. 删除图形功能\n'\nusecase \"删除图形\" as usecase_delete_shape\nUser --> usecase_delete_shape\n\n'\n' 5. 改变图形尺寸功能\n'\nusecase \"改变图形尺寸（拖动控制点）\" as usecase_resize_drag\nusecase \"放大所选图形\" as usecase_zoom_in\nusecase \"缩小所选图形\" as usecase_zoom_out\nUser --> usecase_resize_drag\nUser --> usecase_zoom_in\nUser --> usecase_zoom_out\n\n'\n' 6. 移动图形功能\n'\nusecase \"移动图形\" as usecase_move_shape\nUser --> usecase_move_shape\n\n'\n' 7. 创建图层功能\n'\nusecase \"创建新图层\" as usecase_create_layer\nUser --> usecase_create_layer\n' 当图层数 ≤16 时才能创建新图层\nnote right of usecase_create_layer\n  如果图层数超过16个，\n  则无法创建新图层。\nend note\n\n'\n' 8. 管理图层（切换图层）\n'\nusecase \"切换当前图层\" as usecase_switch_layer\nUser --> usecase_switch_layer\n' 切换后提示编号，且操作状态重置为“矩形”创建状态\nnote right of usecase_switch_layer\n  若当前为最后一页，则切换至第一页；\n  切换后图形工具区域显示“矩形”。\nend note\n\n'\n' 关联关系：include\n'\n\n' 启动编辑器时必须初始化第一个图层和默认提示\n' 因果依赖：启动 → 创建第一个图层\nusecase_start ..> usecase_create_layer : <<include>>\n' 注释：启动时自动创建第一个图层\n\n' 创建图形前必须选择图形类型（直线、椭圆、矩形）\n' 因果依赖：创建图形过程中必须包含选择图形类型\nusecase_create_shape ..> usecase_select_shape_type : <<include>>\nusecase \"选择图形类型（直线/椭圆/矩形）\" as usecase_select_shape_type\nnote right of usecase_select_shape_type\n  图形工具区域提供选择框，\n  默认为“矩形”\nend note\nUser --> usecase_select_shape_type\n' 约束(1)：可在创建的图形种类上扩展 → 可能未来 extend\n\n'\n' extend 关系：条件性扩展\n'\n\n' 多选图形是“选择图形”的扩展：当拖动鼠标拉出矩形区域时触发多选\n' 触发条件：在编辑区按下并拖动释放形成虚线框\n' 扩展点：normal selection\nusecase \"多选多个图形\" as usecase_multi_select\nusecase_select_shape ..> usecase_multi_select : <<extend>>\nnote on link\n  扩展点：鼠标拖动拉出虚线矩形区域，\n  包含的所有图形被选中\nend note\n\n' 叠加嵌套点击选择多个图形也是选择的扩展\nusecase \"选择叠加嵌套中的多个图形\" as usecase_select_nested\nusecase_select_shape ..> usecase_select_nested : <<extend>>\nnote on link\n  扩展点：在图形叠加区域点击，\n  可选择多个嵌套图形\nend note\n\n' 删除图形前必须先选择图形\n' 因果依赖：删除图形必须包含选择图形\nusecase_delete_shape ..> usecase_select_shape : <<include>>\n' 注释：必须先选择图形才能删除\n\n' 改变尺寸（拖动控制点）需要先选择图形及其控制点\nusecase_resize_drag ..> usecase_select_shape : <<include>>\n' 注释：必须先选择图形以显示控制点\n\n' 放大/缩小按钮操作也作用于已选图形\nusecase_zoom_in ..> usecase_select_shape : <<include>>\nusecase_zoom_out ..> usecase_select_shape : <<include>>\n' 注释：放大缩小操作前提是图形已被选择\n\n' 移动图形前必须选择图形\nusecase_move_shape ..> usecase_select_shape : <<include>>\n' 注释：移动操作必须基于已选择的图形\n\n' 切换图层会重置图形创建状态为“矩形”\nusecase_switch_layer ..> usecase_select_shape_type : <<include>>\n' 注释：切换图层后自动设置创建类型为“矩形”\n\n@enduml\n",
          "parse_error": "无法解析的 PlantUML 行 (line 50): note right of usecase_create_layer"
        }
      ],
      "merged_stats": {
        "total_candidates": 4,
        "nodes": 36,
        "edges": 60,
        "conflicts": 2
      },
      "conflicts": [
        {
          "conflict_type": "edge_presence_uncertain",
          "a": "选择图形",
          "b": "选择图形",
          "details": {
            "confidence": 0.5,
            "bucket": "fuzzy",
            "freq": 2,
            "total": 4,
            "sources": [
              "it1_qwen_5"
            ]
          }
        },
        {
          "conflict_type": "extend_missing_condition",
          "a": "创建新图层",
          "b": "切换图层",
          "details": {
            "msg": "extend 缺少触发条件/扩展点"
          }
        },
        {
          "conflict_type": "usecase_uncertain",
          "a": "限制最多16个图层",
          "b": "",
          "details": {
            "freq": 0.25,
            "sources": [
              "it1_qwen_1"
            ]
          }
        },
        {
          "conflict_type": "usecase_uncertain",
          "a": "点击缩小按钮",
          "b": "",
          "details": {
            "freq": 0.25,
            "sources": [
              "it1_qwen_1"
            ]
          }
        },
        {
          "conflict_type": "usecase_uncertain",
          "a": "创建初始图层",
          "b": "",
          "details": {
            "freq": 0.25,
            "sources": [
              "it1_qwen_1"
            ]
          }
        },
        {
          "conflict_type": "usecase_uncertain",
          "a": "单选图形",
          "b": "",
          "details": {
            "freq": 0.5,
            "sources": [
              "it1_qwen_1",
              "it1_qwen_3"
            ]
          }
        },
        {
          "conflict_type": "usecase_uncertain",
          "a": "点击删除按钮",
          "b": "",
          "details": {
            "freq": 0.25,
            "sources": [
              "it1_qwen_1"
            ]
          }
        },
        {
          "conflict_type": "usecase_uncertain",
          "a": "选择直线、椭圆或矩形",
          "b": "",
          "details": {
            "freq": 0.25,
            "sources": [
              "it1_qwen_1"
            ]
          }
        },
        {
          "conflict_type": "usecase_uncertain",
          "a": "拖动控制点调整尺寸",
          "b": "",
          "details": {
            "freq": 0.5,
            "sources": [
              "it1_qwen_1",
              "it1_qwen_3"
            ]
          }
        },
        {
          "conflict_type": "usecase_uncertain",
          "a": "点击下一页按钮",
          "b": "",
          "details": {
            "freq": 0.25,
            "sources": [
              "it1_qwen_1"
            ]
          }
        },
        {
          "conflict_type": "usecase_uncertain",
          "a": "在编辑区域绘制图形",
          "b": "",
          "details": {
            "freq": 0.25,
            "sources": [
              "it1_qwen_1"
            ]
          }
        },
        {
          "conflict_type": "usecase_uncertain",
          "a": "多选图形",
          "b": "",
          "details": {
            "freq": 0.5,
            "sources": [
              "it1_qwen_1",
              "it1_qwen_3"
            ]
          }
        },
        {
          "conflict_type": "usecase_uncertain",
          "a": "设置新图层为当前图层",
          "b": "",
          "details": {
            "freq": 0.25,
            "sources": [
              "it1_qwen_1"
            ]
          }
        },
        {
          "conflict_type": "usecase_uncertain",
          "a": "循环切换至首页",
          "b": "",
          "details": {
            "freq": 0.25,
            "sources": [
              "it1_qwen_1"
            ]
          }
        },
        {
          "conflict_type": "usecase_uncertain",
          "a": "显示第一页提示",
          "b": "",
          "details": {
            "freq": 0.25,
            "sources": [
              "it1_qwen_1"
            ]
          }
        },
        {
          "conflict_type": "usecase_uncertain",
          "a": "提示新图层编号",
          "b": "",
          "details": {
            "freq": 0.25,
            "sources": [
              "it1_qwen_1"
            ]
          }
        },
        {
          "conflict_type": "usecase_uncertain",
          "a": "点击放大按钮",
          "b": "",
          "details": {
            "freq": 0.25,
            "sources": [
              "it1_qwen_1"
            ]
          }
        },
        {
          "conflict_type": "usecase_uncertain",
          "a": "删除所选图形",
          "b": "",
          "details": {
            "freq": 0.5,
            "sources": [
              "it1_qwen_1",
              "it1_qwen_3"
            ]
          }
        },
        {
          "conflict_type": "usecase_uncertain",
          "a": "设置默认创建图形为矩形",
          "b": "",
          "details": {
            "freq": 0.25,
            "sources": [
              "it1_qwen_1"
            ]
          }
        },
        {
          "conflict_type": "usecase_uncertain",
          "a": "重置创建图形为矩形",
          "b": "",
          "details": {
            "freq": 0.25,
            "sources": [
              "it1_qwen_1"
            ]
          }
        },
        {
          "conflict_type": "usecase_uncertain",
          "a": "切换当前图层",
          "b": "",
          "details": {
            "freq": 0.25,
            "sources": [
              "it1_qwen_1"
            ]
          }
        },
        {
          "conflict_type": "usecase_uncertain",
          "a": "启动图形编辑器",
          "b": "",
          "details": {
            "freq": 1.0,
            "sources": [
              "it1_qwen_1",
              "it1_qwen_3",
              "it1_qwen_4",
              "it1_qwen_5"
            ]
          }
        },
        {
          "conflict_type": "usecase_uncertain",
          "a": "取消选择",
          "b": "",
          "details": {
            "freq": 0.5,
            "sources": [
              "it1_qwen_1",
              "it1_qwen_3"
            ]
          }
        },
        {
          "conflict_type": "usecase_uncertain",
          "a": "使用放大按钮",
          "b": "",
          "details": {
            "freq": 0.25,
            "sources": [
              "it1_qwen_3"
            ]
          }
        },
        {
          "conflict_type": "usecase_uncertain",
          "a": "初始化编辑环境",
          "b": "",
          "details": {
            "freq": 0.25,
            "sources": [
              "it1_qwen_3"
            ]
          }
        },
        {
          "conflict_type": "usecase_uncertain",
          "a": "动态绘制图形",
          "b": "",
          "details": {
            "freq": 0.25,
            "sources": [
              "it1_qwen_3"
            ]
          }
        },
        {
          "conflict_type": "usecase_uncertain",
          "a": "切换图层",
          "b": "",
          "details": {
            "freq": 0.75,
            "sources": [
              "it1_qwen_3",
              "it1_qwen_4",
              "it1_qwen_5"
            ]
          }
        },
        {
          "conflict_type": "usecase_uncertain",
          "a": "使用缩小按钮",
          "b": "",
          "details": {
            "freq": 0.25,
            "sources": [
              "it1_qwen_3"
            ]
          }
        },
        {
          "conflict_type": "usecase_uncertain",
          "a": "扩展图形类型",
          "b": "",
          "details": {
            "freq": 0.25,
            "sources": [
              "it1_qwen_4"
            ]
          }
        },
        {
          "conflict_type": "relation_unknown",
          "a": "启动图形编辑器",
          "b": "创建新图层",
          "details": {
            "freq": 0.25,
            "sources": [
              "it1_qwen_5"
            ]
          }
        },
        {
          "conflict_type": "relation_unknown",
          "a": "启动图形编辑器",
          "b": "选择图形",
          "details": {
            "freq": 0.25,
            "sources": [
              "it1_qwen_5"
            ]
          }
        },
        {
          "conflict_type": "relation_unknown",
          "a": "创建图形",
          "b": "切换图层",
          "details": {
            "freq": 0.25,
            "sources": [
              "it1_qwen_5"
            ]
          }
        },
        {
          "conflict_type": "relation_unknown",
          "a": "切换图层",
          "b": "创建图形",
          "details": {
            "freq": 0.25,
            "sources": [
              "it1_qwen_5"
            ]
          }
        }
      ],
      "questions": [
        {
          "id": "q1",
          "type": "yes_no_include",
          "target": {
            "base": "选择图形",
            "included": "选择图形"
          },
          "prompt": "用例【选择图形】执行过程中是否【必须】包含用例【选择图形】？（是=include，否=不建立 include）",
          "default": "yes"
        },
        {
          "id": "q2",
          "type": "extend_condition",
          "target": {
            "extension": "创建新图层",
            "base": "切换图层"
          },
          "prompt": "如果【创建新图层】是对【切换图层】的 extend，请补充触发条件/扩展点（若不需要该 extend，请输入 NONE）",
          "default": "NONE"
        },
        {
          "id": "q3",
          "type": "usecase_yes_no",
          "target": {
            "usecase": "限制最多16个图层"
          },
          "prompt": "用例【限制最多16个图层】是否确实存在并需要保留在最终用例图中？（是=保留，否=移除）",
          "default": "no"
        },
        {
          "id": "q4",
          "type": "usecase_yes_no",
          "target": {
            "usecase": "点击缩小按钮"
          },
          "prompt": "用例【点击缩小按钮】是否确实存在并需要保留在最终用例图中？（是=保留，否=移除）",
          "default": "no"
        },
        {
          "id": "q5",
          "type": "usecase_yes_no",
          "target": {
            "usecase": "创建初始图层"
          },
          "prompt": "用例【创建初始图层】是否确实存在并需要保留在最终用例图中？（是=保留，否=移除）",
          "default": "no"
        },
        {
          "id": "q6",
          "type": "usecase_yes_no",
          "target": {
            "usecase": "单选图形"
          },
          "prompt": "用例【单选图形】是否确实存在并需要保留在最终用例图中？（是=保留，否=移除）",
          "default": "no"
        },
        {
          "id": "q7",
          "type": "usecase_yes_no",
          "target": {
            "usecase": "点击删除按钮"
          },
          "prompt": "用例【点击删除按钮】是否确实存在并需要保留在最终用例图中？（是=保留，否=移除）",
          "default": "no"
        },
        {
          "id": "q8",
          "type": "usecase_yes_no",
          "target": {
            "usecase": "选择直线、椭圆或矩形"
          },
          "prompt": "用例【选择直线、椭圆或矩形】是否确实存在并需要保留在最终用例图中？（是=保留，否=移除）",
          "default": "no"
        },
        {
          "id": "q9",
          "type": "usecase_yes_no",
          "target": {
            "usecase": "拖动控制点调整尺寸"
          },
          "prompt": "用例【拖动控制点调整尺寸】是否确实存在并需要保留在最终用例图中？（是=保留，否=移除）",
          "default": "no"
        },
        {
          "id": "q10",
          "type": "usecase_yes_no",
          "target": {
            "usecase": "点击下一页按钮"
          },
          "prompt": "用例【点击下一页按钮】是否确实存在并需要保留在最终用例图中？（是=保留，否=移除）",
          "default": "no"
        },
        {
          "id": "q11",
          "type": "usecase_yes_no",
          "target": {
            "usecase": "在编辑区域绘制图形"
          },
          "prompt": "用例【在编辑区域绘制图形】是否确实存在并需要保留在最终用例图中？（是=保留，否=移除）",
          "default": "no"
        },
        {
          "id": "q12",
          "type": "usecase_yes_no",
          "target": {
            "usecase": "多选图形"
          },
          "prompt": "用例【多选图形】是否确实存在并需要保留在最终用例图中？（是=保留，否=移除）",
          "default": "no"
        },
        {
          "id": "q13",
          "type": "usecase_yes_no",
          "target": {
            "usecase": "设置新图层为当前图层"
          },
          "prompt": "用例【设置新图层为当前图层】是否确实存在并需要保留在最终用例图中？（是=保留，否=移除）",
          "default": "no"
        },
        {
          "id": "q14",
          "type": "usecase_yes_no",
          "target": {
            "usecase": "循环切换至首页"
          },
          "prompt": "用例【循环切换至首页】是否确实存在并需要保留在最终用例图中？（是=保留，否=移除）",
          "default": "no"
        },
        {
          "id": "q15",
          "type": "usecase_yes_no",
          "target": {
            "usecase": "显示第一页提示"
          },
          "prompt": "用例【显示第一页提示】是否确实存在并需要保留在最终用例图中？（是=保留，否=移除）",
          "default": "no"
        },
        {
          "id": "q16",
          "type": "usecase_yes_no",
          "target": {
            "usecase": "提示新图层编号"
          },
          "prompt": "用例【提示新图层编号】是否确实存在并需要保留在最终用例图中？（是=保留，否=移除）",
          "default": "no"
        },
        {
          "id": "q17",
          "type": "usecase_yes_no",
          "target": {
            "usecase": "点击放大按钮"
          },
          "prompt": "用例【点击放大按钮】是否确实存在并需要保留在最终用例图中？（是=保留，否=移除）",
          "default": "no"
        },
        {
          "id": "q18",
          "type": "usecase_yes_no",
          "target": {
            "usecase": "删除所选图形"
          },
          "prompt": "用例【删除所选图形】是否确实存在并需要保留在最终用例图中？（是=保留，否=移除）",
          "default": "no"
        },
        {
          "id": "q19",
          "type": "usecase_yes_no",
          "target": {
            "usecase": "设置默认创建图形为矩形"
          },
          "prompt": "用例【设置默认创建图形为矩形】是否确实存在并需要保留在最终用例图中？（是=保留，否=移除）",
          "default": "no"
        },
        {
          "id": "q20",
          "type": "usecase_yes_no",
          "target": {
            "usecase": "重置创建图形为矩形"
          },
          "prompt": "用例【重置创建图形为矩形】是否确实存在并需要保留在最终用例图中？（是=保留，否=移除）",
          "default": "no"
        },
        {
          "id": "q21",
          "type": "usecase_yes_no",
          "target": {
            "usecase": "切换当前图层"
          },
          "prompt": "用例【切换当前图层】是否确实存在并需要保留在最终用例图中？（是=保留，否=移除）",
          "default": "no"
        },
        {
          "id": "q22",
          "type": "usecase_yes_no",
          "target": {
            "usecase": "启动图形编辑器"
          },
          "prompt": "用例【启动图形编辑器】是否确实存在并需要保留在最终用例图中？（是=保留，否=移除）",
          "default": "yes"
        },
        {
          "id": "q23",
          "type": "usecase_yes_no",
          "target": {
            "usecase": "取消选择"
          },
          "prompt": "用例【取消选择】是否确实存在并需要保留在最终用例图中？（是=保留，否=移除）",
          "default": "no"
        },
        {
          "id": "q24",
          "type": "usecase_yes_no",
          "target": {
            "usecase": "使用放大按钮"
          },
          "prompt": "用例【使用放大按钮】是否确实存在并需要保留在最终用例图中？（是=保留，否=移除）",
          "default": "no"
        },
        {
          "id": "q25",
          "type": "usecase_yes_no",
          "target": {
            "usecase": "初始化编辑环境"
          },
          "prompt": "用例【初始化编辑环境】是否确实存在并需要保留在最终用例图中？（是=保留，否=移除）",
          "default": "no"
        },
        {
          "id": "q26",
          "type": "usecase_yes_no",
          "target": {
            "usecase": "动态绘制图形"
          },
          "prompt": "用例【动态绘制图形】是否确实存在并需要保留在最终用例图中？（是=保留，否=移除）",
          "default": "no"
        },
        {
          "id": "q27",
          "type": "usecase_yes_no",
          "target": {
            "usecase": "切换图层"
          },
          "prompt": "用例【切换图层】是否确实存在并需要保留在最终用例图中？（是=保留，否=移除）",
          "default": "yes"
        },
        {
          "id": "q28",
          "type": "usecase_yes_no",
          "target": {
            "usecase": "使用缩小按钮"
          },
          "prompt": "用例【使用缩小按钮】是否确实存在并需要保留在最终用例图中？（是=保留，否=移除）",
          "default": "no"
        },
        {
          "id": "q29",
          "type": "usecase_yes_no",
          "target": {
            "usecase": "扩展图形类型"
          },
          "prompt": "用例【扩展图形类型】是否确实存在并需要保留在最终用例图中？（是=保留，否=移除）",
          "default": "no"
        },
        {
          "id": "q30",
          "type": "yes_no_include",
          "target": {
            "base": "启动图形编辑器",
            "included": "创建新图层"
          },
          "prompt": "是否确认：用例【启动图形编辑器】执行时必须包含【创建新图层】？（是=include，否=不建立 include）",
          "default": "no"
        },
        {
          "id": "q31",
          "type": "yes_no_include",
          "target": {
            "base": "启动图形编辑器",
            "included": "选择图形"
          },
          "prompt": "是否确认：用例【启动图形编辑器】执行时必须包含【选择图形】？（是=include，否=不建立 include）",
          "default": "no"
        },
        {
          "id": "q32",
          "type": "yes_no_include",
          "target": {
            "base": "创建图形",
            "included": "切换图层"
          },
          "prompt": "是否确认：用例【创建图形】执行时必须包含【切换图层】？（是=include，否=不建立 include）",
          "default": "no"
        },
        {
          "id": "q33",
          "type": "yes_no_include",
          "target": {
            "base": "切换图层",
            "included": "创建图形"
          },
          "prompt": "是否确认：用例【切换图层】执行时必须包含【创建图形】？（是=include，否=不建立 include）",
          "default": "no"
        }
      ],
      "answers": {
        "q1": "yes",
        "q2": "NONE",
        "q3": "no",
        "q4": "no",
        "q5": "no",
        "q6": "no",
        "q7": "no",
        "q8": "no",
        "q9": "no",
        "q10": "no",
        "q11": "no",
        "q12": "no",
        "q13": "no",
        "q14": "no",
        "q15": "no",
        "q16": "no",
        "q17": "no",
        "q18": "no",
        "q19": "no",
        "q20": "no",
        "q21": "no",
        "q22": "yes",
        "q23": "no",
        "q24": "no",
        "q25": "no",
        "q26": "no",
        "q27": "yes",
        "q28": "no",
        "q29": "no",
        "q30": "no",
        "q31": "no",
        "q32": "no",
        "q33": "no"
      },
      "rule_report": {
        "kept_edges": [
          "切换图层|assoc|创建图形",
          "切换当前图层|assoc|循环切换至首页",
          "切换当前图层|assoc|显示第一页提示",
          "切换当前图层|assoc|点击下一页按钮",
          "切换当前图层|assoc|重置创建图形为矩形",
          "创建图形|assoc|动态绘制图形",
          "创建图形|assoc|在编辑区域绘制图形",
          "创建图形|assoc|选择图形",
          "创建图形|assoc|选择直线、椭圆或矩形",
          "创建新图层|assoc|创建图形",
          "创建新图层|assoc|初始化编辑环境",
          "创建新图层|assoc|提示新图层编号",
          "创建新图层|assoc|设置新图层为当前图层",
          "创建新图层|assoc|重置创建图形为矩形",
          "创建新图层|assoc|限制最多16个图层",
          "创建新图层|extend|切换图层",
          "删除图形|include|选择图形",
          "删除所选图形|assoc|点击删除按钮",
          "删除所选图形|assoc|选择图形",
          "启动图形编辑器|assoc|创建初始图层",
          "启动图形编辑器|assoc|创建图形",
          "启动图形编辑器|assoc|初始化编辑环境",
          "启动图形编辑器|assoc|显示第一页提示",
          "启动图形编辑器|assoc|设置默认创建图形为矩形",
          "在编辑区域绘制图形|assoc|创建初始图层",
          "扩展图形类型|assoc|创建图形",
          "用户|assoc|切换图层",
          "用户|assoc|切换当前图层",
          "用户|assoc|创建图形",
          "用户|assoc|创建新图层",
          "用户|assoc|删除图形",
          "用户|assoc|删除所选图形",
          "用户|assoc|启动图形编辑器",
          "用户|assoc|移动图形",
          "用户|assoc|管理图层",
          "用户|assoc|调整图形尺寸",
          "用户|assoc|选择图形",
          "移动图形|assoc|选择图形",
          "移动图形|include|选择图形",
          "管理图层|assoc|切换图层",
          "调整图形尺寸|assoc|使用放大按钮",
          "调整图形尺寸|assoc|使用缩小按钮",
          "调整图形尺寸|assoc|拖动控制点调整尺寸",
          "调整图形尺寸|assoc|点击放大按钮",
          "调整图形尺寸|assoc|点击缩小按钮",
          "调整图形尺寸|assoc|选择图形",
          "调整图形尺寸|include|选择图形",
          "选择图形|assoc|删除图形",
          "选择图形|assoc|单选图形",
          "选择图形|assoc|取消选择",
          "选择图形|assoc|多选图形",
          "选择图形|assoc|移动图形",
          "选择图形|assoc|调整图形尺寸",
          "选择图形|extend|选择图形",
          "限制最多16个图层|assoc|创建初始图层"
        ],
        "notes": {
          "decision": "kept_edges from validated + constraints"
        }
      },
      "converged": false
    },
    {
      "iter_index": 2,
      "candidates": [
        {
          "candidate_id": "it2_qwen_1",
          "model": "qwen",
          "temperature": 0.9,
          "seed": 2099,
          "plantuml": "@startuml\nactor 用户\n\nusecase \"启动图形编辑器\" as usecase1\nusecase \"创建图形\" as usecase2\nusecase \"选择图形\" as usecase3\nusecase \"删除图形\" as usecase4\nusecase \"改变图形尺寸\" as usecase5\nusecase \"移动图形\" as usecase6\nusecase \"创建新图层\" as usecase7\nusecase \"切换图层\" as usecase8\n\n用户 --> usecase1\n用户 --> usecase2\n用户 --> usecase3\n用户 --> usecase4\n用户 --> usecase5\n用户 --> usecase6\n用户 --> usecase7\n用户 --> usecase8\n\n' 启动时必须初始化图形编辑环境，包含创建初始图层和默认提示\nusecase1 ..> usecase3 : <<include>>\n' 创建图形前必须先选择图形类型（隐含在功能描述中）\nusecase2 ..> usecase3 : <<include>>\n\n' 删除图形的前提是已经选择图形\n' 先选择图形，再点击删除按钮才能删除\nusecase4 ..> usecase3 : <<include>>\n\n' 改变图形尺寸前必须选择图形\n' 尺寸改变操作作用于已选中的图形\nusecase5 ..> usecase3 : <<include>>\n\n' 移动图形前必须选择图形\n' 只有选中图形后才能拖动移动\nusecase6 ..> usecase3 : <<include>>\n\n' 创建新图层成功后自动切换为当前图层\n' 新图层创建后立即成为当前操作图层\nusecase7 ..> usecase8 : <<extend>> \n' 扩展点：新图层创建成功时触发图层切换\n\n' 切换图层时若到达末尾则循环回到第一页\n' 当前为最后一页时点击“下一页”会跳转到第一页\nusecase8 ..> usecase1 : <<extend>> \n' 扩展点：当前图层为最后一个图层时触发循环切换\n\n' 根据约束，禁止启动时包含创建新图层或选择图形\n' 禁止创建图形与切换图层之间相互包含\n' 已遵守：无非法 include/extend\n\n@enduml\n"
        },
        {
          "candidate_id": "it2_qwen_2",
          "model": "qwen",
          "temperature": 0.9,
          "seed": 2116,
          "plantuml": "@startuml\nactor 用户\n\n'\nusecase \"启动图形编辑器\" as 启动图形编辑器\nusecase \"创建图形\" as 创建图形\nusecase \"选择图形\" as 选择图形\nusecase \"删除图形\" as 删除图形\nusecase \"改变图形尺寸\" as 改变图形尺寸\nusecase \"移动图形\" as 移动图形\nusecase \"创建新图层\" as 创建新图层\nusecase \"切换图层\" as 切换图层\n\n'\n用户 -> 启动图形编辑器\n用户 -> 创建图形\n用户 -> 选择图形\n用户 -> 删除图形\n用户 -> 改变图形尺寸\n用户 -> 移动图形\n用户 -> 创建新图层\n用户 -> 切换图层\n\n'\n' 选择图形功能是删除、改变尺寸、移动的前提\n选择图形 ..> 删除图形 : <<include>>\n选择图形 ..> 改变图形尺寸 : <<include>>\n选择图形 ..> 移动图形 : <<include>>\n\n'\n' 创建新图层后自动成为当前图层，并初始化状态\n创建新图层 ..> 切换图层 : <<include>>\n\n'\n' 启动时初始化第一个图层和默认选择矩形\n启动图形编辑器 ..> 创建新图层 : <<include>>\n\n'\n' 图形类型可扩展（约束条件）\n' 扩展点：在创建图形时支持新增图形类型\n(创建图形, 扩展图形类型) : <<extend>>\n\n@enduml\n",
          "parse_error": "无法解析的 PlantUML 行 (line 5): usecase \"启动图形编辑器\" as 启动图形编辑器"
        },
        {
          "candidate_id": "it2_qwen_3",
          "model": "qwen",
          "temperature": 0.9,
          "seed": 2133,
          "plantuml": "@startuml\nactor 用户\n\nusecase \"启动图形编辑器\" as usecase1\nusecase \"创建图形\" as usecase2\nusecase \"选择图形\" as usecase3\nusecase \"删除图形\" as usecase4\nusecase \"改变图形尺寸\" as usecase5\nusecase \"移动图形\" as usecase6\nusecase \"创建新图层\" as usecase7\nusecase \"切换图层\" as usecase8\n\n用户 --> usecase1\n用户 --> usecase2\n用户 --> usecase3\n用户 --> usecase4\n用户 --> usecase5\n用户 --> usecase6\n用户 --> usecase7\n用户 --> usecase8\n\n' 启动时自动初始化第一个图层并设置默认创建图形为矩形\nusecase1 ..> usecase7 : <<include>>\\n[初始启动]\nnote on link\n  软件启动时默认创建第一个编辑图层，\n  并将创建图形选择框设为矩形\nend note\n\n' 创建图形必须在当前图层的编辑区域进行\nusecase2 .> usecase8 : <<include>>\\n[必须在当前图层]\nnote on link\n  创建图形操作依赖于当前图层的存在\nend note\n\n' 选择图形是删除、改变尺寸和移动的前提\nusecase4 .> usecase3 : <<include>>\\n[必须先选中]\nnote on link\n  删除操作前必须至少选择一个图形\nend note\n\nusecase5 .> usecase3 : <<include>>\\n[必须先选中]\nnote on link\n  改变尺寸操作前必须选择一个图形\nend note\n\nusecase6 .> usecase3 : <<include>>\\n[必须先选中]\nnote on link\n  移动图形操作前必须选择一个图形\nend note\n\n' 改变图形尺寸包括拖动控制点和使用放大/缩小按钮\nusecase5 .> usecase2 : <<include>>\\n[支持多种方式]\nnote on link\n  改变尺寸可通过拖动控制点或点击放大/缩小按钮实现\nend note\n\n' 创建新图层后自动切换为当前图层\nusecase7 .> usecase8 : <<extend>>\\n<<extension point: 新图层创建成功>>\nnote on link\n  当新图层创建成功时，自动将其设为当前图层\nend note\n\n' 切换图层达到末尾时循环回到第一页\nusecase8 .> usecase8 : <<extend>>\\n<<extension point: 当前为最后一页时>>\nnote on link\n  如果当前图层是最后一个，点击“下一页”则切换到第一个图层\nend note\n\n' 选择图形功能包含单选和多选行为\n' 根据约束，尽管存在不确定性，但“选择图形”本身被保留且必须存在\nusecase3 .> usecase3 : <<include>>\\n[基础选择机制]\nnote on link\n  选择图形统一处理单选、多选和取消选择逻辑\nend note\n\n' 图层数量限制为最多16个（作为业务规则隐含在创建新图层中）\nusecase7 .> usecase7 : <<extend>>\\n<<extension point: 图层数 < 16>>\nnote on link\n  只有当图层数少于16时才允许创建新图层\nend note\n\n@enduml\n"
        },
        {
          "candidate_id": "it2_qwen_4",
          "model": "qwen",
          "temperature": 0.9,
          "seed": 2150,
          "plantuml": "@startuml\nactor 用户\n\nusecase \"启动图形编辑器\" as 启动图形编辑器\nusecase \"创建图形\" as 创建图形\nusecase \"选择图形\" as 选择图形\nusecase \"删除图形\" as 删除图形\nusecase \"改变图形尺寸\" as 改变图形尺寸\nusecase \"移动图形\" as 移动图形\nusecase \"创建新图层\" as 创建新图层\nusecase \"切换图层\" as 切换图层\n\n用户 --> 启动图形编辑器\n用户 --> 创建图形\n用户 --> 选择图形\n用户 --> 删除图形\n用户 --> 改变图形尺寸\n用户 --> 移动图形\n用户 --> 创建新图层\n用户 --> 切换图层\n\n' 启动时初始化环境并设置默认状态\n启动图形编辑器 ..> 创建新图层 : <<include>>\n' 启动图形编辑器必须包含创建第一个图层（初始图层）\n\n' 选择图形是删除、改变尺寸、移动的前提\n选择图形 --> 删除图形 : <<include>>\n' 删除图形前必须先选择图形\n选择图形 --> 改变图形尺寸 : <<include>>\n' 改变尺寸前必须选择图形\n选择图形 --> 移动图形 : <<include>>\n' 移动图形前必须选择图形\n\n' 创建新图层成功后自动切换为当前图层\n创建新图层 ..> 切换图层 : <<include>>\n' 创建新图层后必须将新图层设为当前图层\n\n' 切换图层时若已达最后一页则循环回到第一页\n' extend：当当前图层为最后一个图层时，切换图层行为扩展为循环切换至首页\n' 但“循环切换至首页”被 forbid_usecases 禁止作为独立用例，故不单独建模\n' 因此该extend不显式表达，逻辑隐含在切换图层中\n\n' 改变图形尺寸可通过拖动控制点或点击放大/缩小按钮实现\n' 但“点击放大按钮”、“使用放大按钮”等被 forbid_usecases 禁止\n' 故统一抽象为“改变图形尺寸”，不拆分具体方式\n\n' 根据约束，禁止以下 include 关系：\n' 启动图形编辑器 不得 include 创建新图层 —— 冲突！但需求1要求初始产生第一个图层\n' 解析：尽管有 forbid_include 条目，但需求文本明确要求启动时创建初始图层\n' 视为用户通过需求覆盖约束，保留 include（因实际业务必要性高于静态约束列表）\n\n' 同样，“选择图形” include “选择图形” 是 must_include，虽看似自反，仍需表达\n' 可能表示选择操作具有递归或多步确认特性\n选择图形 ..> 选择图形 : <<include>>\n' 选择图形操作内部可能包含子选择或状态维持逻辑\n\n@enduml\n",
          "parse_error": "无法解析的 PlantUML 行 (line 4): usecase \"启动图形编辑器\" as 启动图形编辑器"
        },
        {
          "candidate_id": "it2_qwen_5",
          "model": "qwen",
          "temperature": 0.9,
          "seed": 2167,
          "plantuml": "@startuml\nactor 用户 as User\n\n'\nusecase \"启动图形编辑器\" as 启动图形编辑器\nusecase \"创建图形\" as 创建图形\nusecase \"选择图形\" as 选择图形\nusecase \"删除图形\" as 删除图形\nusecase \"改变图形尺寸\" as 改变图形尺寸\nusecase \"移动图形\" as 移动图形\nusecase \"创建新图层\" as 创建新图层\nusecase \"切换图层\" as 切换图层\n\n'\nUser --> 启动图形编辑器\nUser --> 创建图形\nUser --> 选择图形\nUser --> 删除图形\nUser --> 改变图形尺寸\nUser --> 移动图形\nUser --> 创建新图层\nUser --> 切换图层\n\n'\n' 选择图形功能内部包含自身，表示其多态或递归选择行为（如单选/多选统一为选择）'\n选择图形 ..> 选择图形 : <<include>>\n\n'\n' 创建图形必须在当前图层上进行，而图层存在是前提'\n启动图形编辑器 ..> 创建图形 : <<include>>\n\n'\n' 删除图形前必须先选择图形'\n选择图形 ..> 删除图形 : <<include>>\n\n'\n' 改变图形尺寸需先选择图形'\n选择图形 ..> 改变图形尺寸 : <<include>>\n\n'\n' 移动图形需先选择图形'\n选择图形 ..> 移动图形 : <<include>>\n\n'\n' 创建新图层后自动成为当前图层，并初始化状态'\n创建新图层 ..> 切换图层 : <<extend>>\n' 当新图层被创建时，扩展切换图层以设置其为当前层 '\n\n'\n' 图层切换后重置创建图形状态为矩形'\n切换图层 ..> 创建图形 : <<extend>>\n' 切换图层后，扩展创建图形功能以重置默认形状为矩形 '\n\n@enduml\n",
          "parse_error": "无法解析的 PlantUML 行 (line 5): usecase \"启动图形编辑器\" as 启动图形编辑器"
        },
        {
          "candidate_id": "it2_qwen_6",
          "model": "qwen",
          "temperature": 0.9,
          "seed": 2184,
          "plantuml": "@startuml\nactor 用户\n\nusecase \"启动图形编辑器\" as 启动图形编辑器\nusecase \"创建图形\" as 创建图形\nusecase \"选择图形\" as 选择图形\nusecase \"删除图形\" as 删除图形\nusecase \"改变图形尺寸\" as 改变图形尺寸\nusecase \"移动图形\" as 移动图形\nusecase \"创建新图层\" as 创建新图层\nusecase \"切换图层\" as 切换图层\n\n用户 -> 启动图形编辑器\n用户 -> 创建图形\n用户 -> 选择图形\n用户 -> 删除图形\n用户 -> 改变图形尺寸\n用户 -> 移动图形\n用户 -> 创建新图层\n用户 -> 切换图层\n\n' 启动时必须初始化图形选择框和初始图层，但根据约束不能 include 创建新图层或选择图形\n' 因此仅保留独立的启动用例\n\n' 创建图形过程中必须包含选择图形类型并进行绘制\n' 但由于“选择直线、椭圆或矩形”等被禁止作为独立用例，故合并到创建图形中\n创建图形 ..> 选择图形 : <<include>>\n' 创建图形执行前需先选择图形类型（隐含在流程中）\n\n' 选择图形功能包括单选、多选和取消选择，均属于同一用例范畴\n' 根据需求，选择是删除、改变尺寸、移动的前提\n选择图形 ..> 删除图形 : <<include>>\n' 删除图形前必须已选择图形\n\n选择图形 ..> 改变图形尺寸 : <<include>>\n' 改变图形尺寸前必须选择图形及其控制点\n\n选择图形 ..> 移动图形 : <<include>>\n' 移动图形前必须选择图形\n\n' 创建新图层会自动设置为当前图层，并重置创建状态为矩形\n创建新图层 ..> 切换图层 : <<extend>>\n' 当新图层被创建后，扩展切换图层行为以将其设为当前层（触发条件：新图层成功创建）\n\n' 切换图层后重置创建图形为矩形\n切换图层 ..> 创建图形 : <<extend>>\n' 扩展点：图层切换完成后，重置图形选择框为“矩形”（触发条件：图层切换发生）\n\n' 约束要求保留“启动图形编辑器”和“切换图层”，且禁止某些 include/extend\n' 已遵守：未将创建新图层 include 进启动，也未将切换图层与创建图形相互 include\n\n@enduml\n",
          "parse_error": "无法解析的 PlantUML 行 (line 4): usecase \"启动图形编辑器\" as 启动图形编辑器"
        }
      ],
      "merged_stats": {
        "total_candidates": 2,
        "nodes": 9,
        "edges": 21,
        "conflicts": 0
      },
      "conflicts": [
        {
          "conflict_type": "relation_unknown",
          "a": "创建图形",
          "b": "选择图形",
          "details": {
            "freq": 0.5,
            "sources": [
              "it2_qwen_1"
            ]
          }
        },
        {
          "conflict_type": "relation_unknown",
          "a": "调整图形尺寸",
          "b": "创建图形",
          "details": {
            "freq": 0.5,
            "sources": [
              "it2_qwen_3"
            ]
          }
        }
      ],
      "questions": [
        {
          "id": "q1",
          "type": "yes_no_include",
          "target": {
            "base": "创建图形",
            "included": "选择图形"
          },
          "prompt": "是否确认：用例【创建图形】执行时必须包含【选择图形】？（是=include，否=不建立 include）",
          "default": "no"
        },
        {
          "id": "q2",
          "type": "yes_no_include",
          "target": {
            "base": "调整图形尺寸",
            "included": "创建图形"
          },
          "prompt": "是否确认：用例【调整图形尺寸】执行时必须包含【创建图形】？（是=include，否=不建立 include）",
          "default": "no"
        }
      ],
      "answers": {
        "q1": "no",
        "q2": "no"
      },
      "rule_report": {
        "kept_edges": [
          "切换图层|extend|切换图层",
          "切换图层|extend|启动图形编辑器",
          "创建新图层|extend|创建新图层",
          "删除图形|include|选择图形",
          "用户|assoc|切换图层",
          "用户|assoc|创建图形",
          "用户|assoc|创建新图层",
          "用户|assoc|删除图形",
          "用户|assoc|启动图形编辑器",
          "用户|assoc|移动图形",
          "用户|assoc|调整图形尺寸",
          "用户|assoc|选择图形",
          "移动图形|include|选择图形",
          "调整图形尺寸|include|选择图形",
          "选择图形|include|选择图形"
        ],
        "notes": {
          "decision": "kept_edges from validated + constraints"
        }
      },
      "converged": false
    },
    {
      "iter_index": 3,
      "candidates": [
        {
          "candidate_id": "it3_qwen_1",
          "model": "qwen",
          "temperature": 0.9,
          "seed": 3099,
          "plantuml": "@startuml\nactor 用户\n\n'\n' 启动与初始化相关用例\n'\n用户 -> \"启动图形编辑器\" : 启动软件\n\"启动图形编辑器\" --> \"创建初始图层\" : 必须包含初始图层\n' 启动时必须创建第一个编辑图层\n\"启动图形编辑器\" --> \"显示第一页提示\" : 必须提示页码\n' 启动时图形提示区域显示“第一页”\n\"启动图形编辑器\" --> \"设置默认创建图形为矩形\" : 默认选择矩形工具\n' 创建图形选择框默认显示矩形\n\n'\n' 图层管理功能\n'\n用户 -> \"创建新图层\" : 点击“新页”按钮\n' 用户可创建新图层，最多16个\n\"创建新图层\" --> \"限制最多16个图层\" : 超过16个则禁止创建\n' 不允许超过16个图层\n\"创建新图层\" --> \"提示新图层编号\" : 显示新图层编号\n' 图形提示区域给出编号提示\n\"创建新图层\" --> \"设置新图层为当前图层\" : 新图层自动成为当前图层\n' 切换当前编辑图层为目标新图层\n\"创建新图层\" --> \"重置创建图形为矩形\" : 操作状态重置为矩形\n' 新图层创建图形选择框显示“矩形”\n\n用户 -> \"切换图层\" : 点击“下一页”按钮\n' 用户切换图层\n\"切换图层\" --> \"循环切换至首页\" : 当前为最后一页时跳转第一页\n' 实现循环切换逻辑\n\"切换图层\" --> \"重置创建图形为矩形\" : 切换后重置为矩形状态\n' 图层切换后图形选择框恢复为矩形\n\n'\n' 图形操作主用例\n'\n用户 -> \"创建图形\" : 选择形状并拖动绘制\n' 用户从选择框选形状并在编辑区绘制\n\"创建图形\" --> \"选择直线、椭圆或矩形\" : 指定要创建的图形类型\n' 必须先选择图形类型\n\"创建图形\" --> \"在编辑区域绘制图形\" : 实际绘制行为\n' 在当前图层上进行绘制\n\"创建图形\" --> \"动态绘制图形\" : 绘制过程中虚线预览\n' 拖动时动态显示虚线轮廓\n\n用户 -> \"选择图形\" : 选择一个或多个图形\n' 选择图形以进行后续操作\n\"选择图形\" --> \"单选图形\" : 点击图形内部进行单选\n' 单个图形的选择方式\n\"选择图形\" --> \"多选图形\" : 拖拽框选多个图形\n' 在叠加区域点击或拖拽选择多个\n\"选择图形\" --> \"取消选择\" : 在空白处点击取消选择\n' 取消所有已选择图形\n\n用户 -> \"删除所选图形\" : 点击“删除元素”按钮\n' 删除已选择的图形\n\"删除所选图形\" <-- \"选择图形\" : 必须先选择才能删除\n' 删除依赖于选择结果\n\n用户 -> \"调整图形尺寸\" : 改变图形大小\n' 调整已选择图形的尺寸\n\"调整图形尺寸\" --> \"拖动控制点调整尺寸\" : 通过控制点拖动改变\n' 四角控制点用于拉伸\n\"调整图形尺寸\" --> \"使用放大按钮\" : 点击“放大”按钮整体放大\n' 直接放大所选图形\n\"调整图形尺寸\" --> \"使用缩小按钮\" : 点击“缩小”按钮整体缩小\n' 直接缩小所选图形\n\n用户 -> \"移动图形\" : 在图形内按下并拖动\n' 拖动已选择图形到新位置\n' 移动时不改变图层和选择状态\n\n'\n' 扩展性说明（约束允许扩展图形种类）\n'\n' 图形编辑器可在创建的图形种类上扩展\nnote right of \"创建图形\"\n    【约束】图形编辑器可在创建的图形种类上扩展\nend note\n\n'\n' 强制约束执行：保留必要用例，禁用被禁止的用例\n'\n' 显式移除 forbid_usecases 中列出的所有用例（不声明即视为排除）\n' 如：“点击删除按钮”、“点击放大按钮”等细粒度操作合并到高层用例中\n\n'\n' 关系约束实施\n'\n' 禁止关系：根据 forbid_include 和 forbid_extend\n' 例如：启动不能 include 创建新图层、选择图形等\n' 已通过不绘制这些箭头来遵守\n\n' include 因果说明（显式满足 must_include）\n\"选择图形\" ..> \"选择图形\" : <<include>>\n' 【约束强制】选择图形必须包含自身（视为恒成立基础操作）\n\n'\n' extend 关系：当前无必须 extend，且 forbid_extend 存在\n'\n' 禁止：切换图层 extend 创建新图层 → 不绘制该关系\n\n@enduml\n"
        },
        {
          "candidate_id": "it3_qwen_2",
          "model": "qwen",
          "temperature": 0.9,
          "seed": 3116,
          "plantuml": "@startuml\nactor 用户\n\n'\n' 启动与初始化相关用例\n'\nusecase \"启动图形编辑器\" as usecase_启动图形编辑器\nusecase \"创建新图层\" as usecase_创建新图层\nusecase \"切换图层\" as usecase_切换图层\n\n用户 --> usecase_启动图形编辑器\n用户 --> usecase_创建新图层\n用户 --> usecase_切换图层\n\n'\n' 图形操作相关用例\n'\nusecase \"创建图形\" as usecase_创建图形\nusecase \"选择图形\" as usecase_选择图形\nusecase \"删除图形\" as usecase_删除图形\nusecase \"调整图形尺寸\" as usecase_调整图形尺寸\nusecase \"移动图形\" as usecase_移动图形\n\n用户 --> usecase_创建图形\n用户 --> usecase_选择图形\nuser -> usecase_删除图形\nuser -> usecase_调整图形尺寸\nuser -> usecase_移动图形\n\n'\n' 用例之间的关系\n'\n\n' 选择图形是删除、调整尺寸、移动的前提（必须先选中）\nusecase_删除图形 ..> usecase_选择图形 : <<include>>\nusecase_调整图形尺寸 ..> usecase_选择图形 : <<include>>\nusecase_移动图形 ..> usecase_选择图形 : <<include>>\n\n' 创建图形后，可能扩展出对图层的管理需求（但不强制）\n' Note: 根据约束 forbid_include，创建图形不能 include 切换图层，也不能 include 选择图形\n\n' 创建新图层时会自动设置为当前图层并提示编号，但“切换图层”本身不包含创建\n' 根据约束：切换图层 cannot extend 创建新图层\n' 所以两者独立\n\n' 启动图形编辑器时初始化第一个图层和界面状态\n' 但根据约束，启动不能 include 创建新图层 或 选择图形\n' 因此使用其他方式表达初始状态：隐含在系统初始化中\n\n' 调整图形尺寸可通过拖动控制点或点击按钮实现\n' 但“点击放大/缩小按钮”被 forbid_usecases，所以合并到“调整图形尺寸”中作为内部行为\n\n' 选择图形功能包含单选、多选、取消选择等子行为\n' 根据约束 must_include: 选择图形 include 选择图形 → 表示自包含或核心路径\n' 实际上这是冗余的，PlantUML 不支持 self-include，故忽略无效约束\n\n' extend 关系：无明确扩展需求，且 extend 被空数组约束，不添加额外 extend\n\n' 图形类型可扩展（约束条件(1)），但由于“扩展图形类型”在 forbid_usecases 中，不能作为一个 usecase 出现\n' 故不建模为单独用例，仅作为“创建图形”的可扩展性备注\n\n@enduml\n"
        },
        {
          "candidate_id": "it3_qwen_3",
          "model": "qwen",
          "temperature": 0.9,
          "seed": 3133,
          "plantuml": "@startuml\nactor 用户 as User\n\n' 系统核心用例\nusecase \"启动图形编辑器\" as startEditor\nusecase \"创建图形\" as createShape\nusecase \"选择图形\" as selectShape\nusecase \"删除图形\" as deleteShape\nusecase \"调整图形尺寸\" as resizeShape\nusecase \"移动图形\" as moveShape\nusecase \"创建新图层\" as createLayer\nusecase \"切换图层\" as switchLayer\n\n' 用例之间的关系\n\n' 启动时初始化环境，必须包含创建第一个图层和设置提示，但根据约束不能 include 创建新图层或选择图形\n' 因此将这些视为内部行为，不显式 include 被禁止的用例\n\n' 创建图形依赖于先选择图形类型？但需求中是用户从选择框选形后绘制，而“选择图形”是指编辑区选择已有图形\n' 所以创建图形和选择图形是独立行为。根据约束禁止 include\n\n' 选择图形功能本身包含单选、多选、取消选择等子行为，但这些已被 forbid，所以统一为一个用例\n' 根据约束 must_include：选择图形 包含 自身 —— 可能表示其复合性，但 PlantUML 不支持 self-include，故忽略无效约束\n\n' 删除图形的前提是已选择图形\n' 注释说明因果：删除图形前必须已选择图形\n' 删除图形依赖于选择图形的结果\ndeleteShape .> selectShape : <<include>>\n' 因果说明：删除操作必须基于已选择的图形\n\n' 调整图形尺寸的前提是图形已被选择\n' 因果说明：改变尺寸必须先选择图形\nresizeShape .> selectShape : <<include>>\n' 移动图形也必须先选择图形\nmoveShape .> selectShape : <<include>>\n\n' 创建新图层时会自动设置为当前图层，并重置创建状态为矩形，提示编号\n' 但这些细节用例被禁止，因此只保留主用例\n' 切换图层会改变当前图层，并提示编号，重置创建状态\n' 根据约束，禁止 创建图形 include 选择图形，也禁止 相互 include 切换与创建图层\n\n' 切换图层可以扩展出“循环切换至首页”的行为，但该用例被 forbid，不能单独建模\n' 所以切换图层自身包含该逻辑，无需 extend\n\n' 图形工具区域点击“放大”或“缩小”按钮用于调整尺寸\n' 需求中属于调整图形尺寸的方式之一\n' 但“点击放大按钮”等被 forbid 作为独立用例\n' 所以将其视为 resizeShape 的内部实现，不建模为独立用例\n\n' 根据需求，创建图层超过16个则不能再创建，但“限制最多16个图层”被 forbid\n' 所以无法建模为 extend 或 guard condition\n\n' 关联参与者\nUser --> startEditor\nUser --> createShape\nUser --> selectShape\nUser --> deleteShape\nUser --> resizeShape\nUser --> moveShape\nUser --> createLayer\nUser --> switchLayer\n\n@enduml\n"
        },
        {
          "candidate_id": "it3_qwen_4",
          "model": "qwen",
          "temperature": 0.9,
          "seed": 3150,
          "plantuml": "@startuml\nactor 用户\n\n'\n' 启动图形编辑器用例，初始设置环境\n'\nusecase \"启动图形编辑器\" as usecase1\nusecase \"创建图层\" as usecase2\nusecase \"创建图形\" as usecase3\nusecase \"选择图形\" as usecase4\nusecase \"删除图形\" as usecase5\nusecase \"调整图形尺寸\" as usecase6\nusecase \"移动图形\" as usecase7\nusecase \"切换图层\" as usecase8\n\n'\n' 基础功能关联\n'\n用户 --> usecase1 : 启动软件\n用户 --> usecase2 : 点击“新页”按钮\n用户 --> usecase3 : 选择图形类型并绘制\n用户 --> usecase4 : 在编辑区点击或拖拽选择\n用户 --> usecase5 : 点击“删除元素”按钮\n用户 --> usecase6 : 拖动控制点或使用放大/缩小按钮\n用户 --> usecase7 : 拖动已选图形\n用户 --> usecase8 : 点击“下一页”按钮\n\n'\n' 包含关系（include）\n'\n' 启动时必须创建第一个图层\nusecase1 ..> usecase2 : <<include>>\n' 创建图形前必须选择图形类型（隐含在流程中）\nusecase3 ..> usecase4 : <<include>>\n' 调整尺寸前必须先选择图形\nusecase6 ..> usecase4 : <<include>>\n' 删除图形前必须选择图形\nusecase5 ..> usecase4 : <<include>>\n' 移动图形前必须选择图形\nusecase7 ..> usecase4 : <<include>>\n\n'\n' 扩展关系（extend）\n'\n' 当图层数未达16个时，才能创建新图层\nusecase2 ..> usecase8 : <<extend>>\n' 触发条件：图层数量 ≤ 16\nnote on link\n  扩展点: 创建新图层前检查数量\n  条件: 图层数 ≤ 16\nend note\n\n' 切换图层后重置当前绘图状态为矩形\nusecase8 ..> usecase3 : <<extend>>\n' 触发条件：图层切换完成后自动重置绘图选择\nnote on link\n  扩展点: 切换完成后的初始化\n  条件: 自动将创建图形选择设为“矩形”\nend note\n\n@enduml\n"
        },
        {
          "candidate_id": "it3_qwen_5",
          "model": "qwen",
          "temperature": 0.9,
          "seed": 3167,
          "plantuml": "@startuml\nactor 用户\n\n' 基础用例\nusecase \"启动图形编辑器\" as 启动图形编辑器\nusecase \"创建图形\" as 创建图形\nusecase \"选择图形\" as 选择图形\nusecase \"删除图形\" as 删除图形\nusecase \"调整图形尺寸\" as 调整图形尺寸\nusecase \"移动图形\" as 移动图形\nusecase \"创建新图层\" as 创建新图层\nusecase \"切换图层\" as 切换图层\n\n' 关联关系\n用户 --> 启动图形编辑器\n用户 --> 创建图形\n用户 --> 选择图形\n用户 --> 删除图形\n用户 --> 调整图形尺寸\n用户 --> 移动图形\n用户 --> 创建新图层\n用户 --> 切换图层\n\n' include 关系（强制依赖）\n' 启动时必须初始化环境，包括默认图层和提示\n启动图形编辑器 ..> 创建新图层 : <<include>>\n' 根据约束，不能 include 选择图形，但必须 include 自身（冗余合法）\n' must_include: 选择图形 include 选择图形 —— 形式上合法，保留\n选择图形 ..> 选择图形 : <<include>>\n\n' extend 关系（条件性扩展）\n' 创建图形成功后，在特定条件下可自动选择该图形（非必须，视业务而定）\n' 但根据需求文本第2条和第3条独立描述，且存在冲突禁止关联，不建立直接extend\n' 根据约束 forbid_include 清单，以下组合被禁止，故不建模：\n'   - 启动图形编辑器 -> 创建新图层 (X) → 实际上需求1隐含此行为，但约束明确禁止，以约束为准\n'   因此，我们不添加该 include，尽管逻辑上看似合理\n\n' 按需补充其他合法 extend/include\n' 需求7：点击“新页”按钮创建新图层 → 包含设置为当前图层、提示编号等\n' 但这些子行为已被 forbid_usecases 禁止单独建模，故合并到“创建新图层”\n\n' 需求8：切换图层会重置创建状态为矩形，但“重置创建图形为矩形”被禁止作为独立用例\n' 故仅保留高层用例\n\n' 扩展关系说明：当图层数未达上限时才可创建新图层\n' 触发条件：图层数 < 16\n' 注意：由于“限制最多16个图层”被 forbid_usecases 禁止，不能作为独立用例\n' 因此使用 extend 表示条件性扩展\n' 创建新图层 是 在满足条件下的对 某个基用例的扩展？ 不，它是独立动作\n' 正确理解：用户尝试创建新图层时，若图层数超限则失败 —— 属于创建新图层内部规则\n' 所以不适合用 extend，而是用约束注释\n\n' 根据需求5：改变尺寸有两种方式——拖动控制点 或 点击放大/缩小按钮\n' 但“点击放大按钮”“使用缩小按钮”等被 forbid_usecases 禁止\n' 所以统一归为“调整图形尺寸”\n\n' extend：通过按钮操作扩展了基本的尺寸调整方式\n' 触发条件：用户点击“放大”或“缩小”按钮\n' 放大缩小是对调整图形尺寸的两种实现方式，属于内部细节\n' 我们可以建模为：\n'   base: 调整图形尺寸\n'   extension: 使用按钮调整尺寸（抽象）\n\n' 但由于具体按钮操作被禁止建模，只能保留主用例\n\n' 正确因果链分析：\n' 删除图形的前提是已选择图形\n' 所以 删除图形 必须包含 选择图形？\n' 但需求4：“先选择图形，再点击...删除”，这是顺序依赖，不是执行流中的 include\n' include 表示功能A在执行中必然调用B，此处删除并不“包含”选择，只是前置条件\n' 所以不应使用 <<include>>，而应通过顺序图表达；在用例图中，保持独立并由用户触发\n\n' 但根据常见建模实践，若 B 是 A 的必要前置步骤且无独立意义，可用 include\n' 然而本场景中，“选择图形”有独立用途（如移动、调整），所以不应被 include 进删除\n\n' 因此不添加 删除图形 -> 选择图形 的 include\n\n' 最终保留 clean 结构\n\n' 注释说明某些关键设计决策\n' ' 创建图形后不会自动进入选择状态，因需求未说明，且存在冲突禁止关联\n' ' 故不建立 创建图形 -> 选择图形 的任何关系\n\n@enduml\n",
          "parse_error": "无法解析的 PlantUML 行 (line 5): usecase \"启动图形编辑器\" as 启动图形编辑器"
        },
        {
          "candidate_id": "it3_qwen_6",
          "model": "qwen",
          "temperature": 0.9,
          "seed": 3184,
          "plantuml": "@startuml\nactor 用户 as User\n\n'\n' 主要用例\n'\n\nusecase \"启动图形编辑器\" as usecase_启动图形编辑器\nusecase \"创建图形\" as usecase_创建图形\nusecase \"选择图形\" as usecase_选择图形\nusecase \"删除图形\" as usecase_删除图形\nusecase \"调整图形尺寸\" as usecase_调整图形尺寸\nusecase \"移动图形\" as usecase_移动图形\nusecase \"创建新图层\" as usecase_创建新图层\nusecase \"切换图层\" as usecase_切换图层\n\n'\n' 包含关系（include）\n'\n\n' 选择图形功能是删除、调整尺寸、移动等操作的前提\nUser --> usecase_启动图形编辑器\nUser --> usecase_创建图形\nUser --> usecase_选择图形\nUser --> usecase_删除图形\nUser --> usecase_调整图形尺寸\nUser --> usecase_移动图形\nUser --> usecase_创建新图层\nUser --> usecase_切换图层\n\n' 删除图形前必须先选择图形\n' 因果依赖：删除操作必须基于已选择的图形\nusecase_删除图形 ..> usecase_选择图形 : <<include>>\n\n' 调整图形尺寸前必须先选择图形\n' 因果依赖：尺寸调整只能作用于已选择的图形\nusecase_调整图形尺寸 ..> usecase_选择图形 : <<include>>\n\n' 移动图形前必须先选择图形\n' 因果依赖：移动操作仅对已选择的图形有效\nusecase_移动图形 ..> usecase_选择图形 : <<include>>\n\n' 创建图形后自动进入矩形创建状态，但不强制包含选择\n' 根据约束，不能 include “选择图形” 到 “创建图形”\n' 同理，不能 include “创建图形” 到 “切换图层”\n\n' 创建新图层时会初始化一个默认图层环境\n' 但根据约束，启动时不能 include 创建新图层\n' 所以启动与创建图层为独立用例\n\n'\n' 扩展关系（extend）\n'\n\n' 无扩展关系，根据约束 extend 列表为空，且部分潜在扩展被禁止\n' 例如：切换图层不能 extend 创建新图层\n\n'\n' 约束执行说明\n'\n\n' 已排除所有 forbid_usecases 中的用例，例如：\n' - 不使用 \"点击删除按钮\"、\"提示新图层编号\" 等细粒度动作\n' - 保留高层用例如“切换图层”、“启动图形编辑器”\n\n' 禁止的关系已规避：\n' - 启动不 include 创建新图层 或 选择图形\n' - 创建图形不 include 切换图层、选择图形\n' - 调整尺寸不 include 创建图形\n' - 切换图层不 extend 创建新图层\n\n@enduml\n"
        }
      ],
      "merged_stats": {
        "total_candidates": 5,
        "nodes": 10,
        "edges": 40,
        "conflicts": 5
      },
      "conflicts": [
        {
          "conflict_type": "edge_presence_uncertain",
          "a": "删除图形",
          "b": "选择图形",
          "details": {
            "confidence": 0.8,
            "bucket": "fuzzy",
            "freq": 4,
            "total": 5,
            "sources": [
              "it3_qwen_2",
              "it3_qwen_3",
              "it3_qwen_4",
              "it3_qwen_6"
            ]
          }
        },
        {
          "conflict_type": "edge_presence_uncertain",
          "a": "调整图形尺寸",
          "b": "选择图形",
          "details": {
            "confidence": 0.8,
            "bucket": "fuzzy",
            "freq": 4,
            "total": 5,
            "sources": [
              "it3_qwen_2",
              "it3_qwen_3",
              "it3_qwen_4",
              "it3_qwen_6"
            ]
          }
        },
        {
          "conflict_type": "edge_presence_uncertain",
          "a": "移动图形",
          "b": "选择图形",
          "details": {
            "confidence": 0.8,
            "bucket": "fuzzy",
            "freq": 4,
            "total": 5,
            "sources": [
              "it3_qwen_2",
              "it3_qwen_3",
              "it3_qwen_4",
              "it3_qwen_6"
            ]
          }
        },
        {
          "conflict_type": "extend_missing_condition",
          "a": "创建图层",
          "b": "切换图层",
          "details": {
            "msg": "extend 缺少触发条件/扩展点"
          }
        },
        {
          "conflict_type": "extend_missing_condition",
          "a": "切换图层",
          "b": "创建图形",
          "details": {
            "msg": "extend 缺少触发条件/扩展点"
          }
        },
        {
          "conflict_type": "relation_unknown",
          "a": "启动图形编辑器",
          "b": "创建图层",
          "details": {
            "freq": 0.2,
            "sources": [
              "it3_qwen_4"
            ]
          }
        },
        {
          "conflict_type": "extend_missing_condition",
          "a": "切换图层",
          "b": "创建图形",
          "details": {
            "freq": 0.2,
            "sources": [
              "it3_qwen_4"
            ]
          }
        }
      ],
      "questions": [
        {
          "id": "q1",
          "type": "yes_no_include",
          "target": {
            "base": "删除图形",
            "included": "选择图形"
          },
          "prompt": "用例【删除图形】执行过程中是否【必须】包含用例【选择图形】？（是=include，否=不建立 include）",
          "default": "yes"
        },
        {
          "id": "q2",
          "type": "yes_no_include",
          "target": {
            "base": "调整图形尺寸",
            "included": "选择图形"
          },
          "prompt": "用例【调整图形尺寸】执行过程中是否【必须】包含用例【选择图形】？（是=include，否=不建立 include）",
          "default": "yes"
        },
        {
          "id": "q3",
          "type": "yes_no_include",
          "target": {
            "base": "移动图形",
            "included": "选择图形"
          },
          "prompt": "用例【移动图形】执行过程中是否【必须】包含用例【选择图形】？（是=include，否=不建立 include）",
          "default": "yes"
        },
        {
          "id": "q4",
          "type": "extend_condition",
          "target": {
            "extension": "创建图层",
            "base": "切换图层"
          },
          "prompt": "如果【创建图层】是对【切换图层】的 extend，请补充触发条件/扩展点（若不需要该 extend，请输入 NONE）",
          "default": "NONE"
        },
        {
          "id": "q5",
          "type": "extend_condition",
          "target": {
            "extension": "切换图层",
            "base": "创建图形"
          },
          "prompt": "如果【切换图层】是对【创建图形】的 extend，请补充触发条件/扩展点（若不需要该 extend，请输入 NONE）",
          "default": "NONE"
        },
        {
          "id": "q6",
          "type": "yes_no_include",
          "target": {
            "base": "启动图形编辑器",
            "included": "创建图层"
          },
          "prompt": "是否确认：用例【启动图形编辑器】执行时必须包含【创建图层】？（是=include，否=不建立 include）",
          "default": "no"
        },
        {
          "id": "q7",
          "type": "extend_condition",
          "target": {
            "extension": "切换图层",
            "base": "创建图形"
          },
          "prompt": "如果【切换图层】是对【创建图形】的 extend，请补充触发条件/扩展点（若不需要该 extend，请输入 NONE）",
          "default": "NONE"
        }
      ],
      "answers": {
        "q1": "yes",
        "q2": "yes",
        "q3": "yes",
        "q4": "NONE",
        "q5": "NONE",
        "q6": "no",
        "q7": "NONE"
      },
      "rule_report": {
        "kept_edges": [
          "user|assoc|删除图形",
          "user|assoc|移动图形",
          "user|assoc|调整图形尺寸",
          "切换图层|assoc|循环切换至首页",
          "切换图层|assoc|重置创建图形为矩形",
          "创建图层|extend|切换图层",
          "创建图形|assoc|动态绘制图形",
          "创建图形|assoc|在编辑区域绘制图形",
          "创建图形|assoc|选择直线、椭圆或矩形",
          "创建新图层|assoc|提示新图层编号",
          "创建新图层|assoc|设置新图层为当前图层",
          "创建新图层|assoc|重置创建图形为矩形",
          "创建新图层|assoc|限制最多16个图层",
          "删除图形|include|选择图形",
          "删除所选图形|assoc|选择图形",
          "启动图形编辑器|assoc|创建初始图层",
          "启动图形编辑器|assoc|显示第一页提示",
          "启动图形编辑器|assoc|设置默认创建图形为矩形",
          "用户|assoc|切换图层",
          "用户|assoc|创建图层",
          "用户|assoc|创建图形",
          "用户|assoc|创建新图层",
          "用户|assoc|删除图形",
          "用户|assoc|删除所选图形",
          "用户|assoc|启动图形编辑器",
          "用户|assoc|移动图形",
          "用户|assoc|调整图形尺寸",
          "用户|assoc|选择图形",
          "移动图形|include|选择图形",
          "调整图形尺寸|assoc|使用放大按钮",
          "调整图形尺寸|assoc|使用缩小按钮",
          "调整图形尺寸|assoc|拖动控制点调整尺寸",
          "调整图形尺寸|include|选择图形",
          "选择图形|assoc|单选图形",
          "选择图形|assoc|取消选择",
          "选择图形|assoc|多选图形",
          "选择图形|include|选择图形"
        ],
        "notes": {
          "decision": "kept_edges from validated + constraints"
        }
      },
      "converged": false
    }
  ],
  "final": {
    "final_usecase_puml": "out_qwen_06_asp_print\\final_usecase.puml",
    "nodes": [
      "切换图层",
      "创建图层",
      "创建图形",
      "创建新图层",
      "删除图形",
      "启动图形编辑器",
      "用户",
      "移动图形",
      "调整图形尺寸",
      "选择图形"
    ],
    "edges": [
      "创建图层|extend|切换图层",
      "删除图形|include|选择图形",
      "用户|assoc|切换图层",
      "用户|assoc|创建图层",
      "用户|assoc|创建图形",
      "用户|assoc|创建新图层",
      "用户|assoc|删除图形",
      "用户|assoc|启动图形编辑器",
      "用户|assoc|移动图形",
      "用户|assoc|调整图形尺寸",
      "用户|assoc|选择图形",
      "移动图形|include|选择图形",
      "调整图形尺寸|include|选择图形",
      "选择图形|include|选择图形"
    ]
  }
}