@startuml
actor 用户

' 软件初始启动时执行初始化设置
用户 --> (初始化图形编辑器)
(初始化图形编辑器) : 创建默认图层、选择框默认为矩形、提示区域显示“第一页”

' 创建图形是基本功能，用户通过选择形状并拖拽绘制
用户 --> (创建图形)
(创建图形) : 从选择框选直线/椭圆/矩形，在编辑区拖动绘制

' 选择图形包括单选、多选和取消选择
用户 --> (选择图形)
(选择图形) : 点击图形内部选择，支持叠加多选；拖拽框选多个；空白点击取消选择

' 删除图形依赖于先有图形被选择
用户 --> (删除图形)
' 删除图形的前提是已有被选中的图形
(删除图形) .> (选择图形) : <<include>>
' 必须先选择图形才能删除

' 改变图形尺寸可通过拖动控制点或使用放大缩小按钮
用户 --> (改变图形尺寸)
' 改变尺寸可通过两种方式：拖动控制点或点击按钮
(改变图形尺寸) .> (选择图形) : <<include>>
' 必须先选择图形才能改变其尺寸

' 移动图形需要先选择图形
用户 --> (移动图形)
' 移动操作作用于已选择的图形
(移动图形) .> (选择图形) : <<include>>
' 必须先选择图形才能移动

' 创建新图层会初始化新图层状态
用户 --> (创建图层)
' 创建新图层时自动设为当前图层，提示编号，限制最多16个
' 创建图层后进入创建矩形状态
(创建图层) : 最多允许16个图层；新图层为当前层；提示编号；默认创建矩形

' 管理图层包括切换图层（如下一页）
用户 --> (管理图层)
' 切换当前图层，并更新提示信息，操作状态重置为创建矩形
(管理图层) : 可循环切换图层；更新提示编号；重置为创建矩形状态

' 图层创建成功后，系统可扩展支持更多图形类型（未来可能）
' 当前创建图形功能可被扩展以支持新的图形种类
(创建图形) <.. (扩展图形种类) : <<extend>>
' 扩展点：在创建图形选择框中增加新图形类型（如多边形、曲线等）
note right of (扩展图形种类)
  根据约束条件（1），系统支持在创建图形种类上进行扩展
end note

@enduml
