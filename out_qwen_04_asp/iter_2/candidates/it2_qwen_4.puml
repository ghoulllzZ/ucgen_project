@startuml
actor 用户

'
' 删除图形前必须先选择图形（强制依赖）
(删除图形) .> (选择图形) : include

'
' 调整图形尺寸前必须先选择图形（强制依赖）
(调整图形尺寸) .> (选择图形) : include

'
' 移动图形前必须先选择图形（强制依赖）
(移动图形) .> (选择图形) : include

'
' 创建图形时不能包含切换图层（禁止关系）
'
' 创建新图层时不能包含切换图层（禁止关系）
'
' 启动图形编辑器时不直接创建新图层（禁止关系）

用户 --> (启动图形编辑器)
user --> (创建图形)
user --> (选择图形)
user --> (删除图形)
user --> (调整图形尺寸)
user --> (移动图形)
user --> (创建新图层)
user --> (切换图层)

(创建新图层) .> (选择图形) : extend
' 扩展条件：当新图层创建后，自动可进行图形选择操作（扩展点：新图层初始化完成后）

(切换图层) .> (选择图形) : extend
' 扩展条件：当图层切换完成并进入当前图层后，可进行图形选择（扩展点：图层切换成功后）

(创建图形) .> (移动图形) : extend
' 扩展条件：在动态绘制过程中，拖动鼠标相当于临时移动图形位置（扩展点：鼠标拖动中）

@enduml
