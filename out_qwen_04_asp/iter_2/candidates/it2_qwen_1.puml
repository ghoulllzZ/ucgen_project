@startuml
actor 用户

'
' 启动图形编辑器是系统初始化功能，不强制包含创建新图层
usecase "启动图形编辑器" as 启动图形编辑器
'
' 创建新图层是独立操作，不能包含切换图层
usecase "创建新图层" as 创建新图层
'
' 切换图层是独立管理操作，需求中明确存在
usecase "切换图层" as 切换图层
'
' 创建图形是核心功能，由用户触发
usecase "创建图形" as 创建图形
'
' 选择图形是其他操作的前提
usecase "选择图形" as 选择图形
'
' 删除图形前必须先选择图形
usecase "删除图形" as 删除图形
'
' 调整图形尺寸前必须选择图形
usecase "调整图形尺寸" as 调整图形尺寸
'
' 移动图形前必须选择图形
usecase "移动图形" as 移动图形

'
' 用户通过界面操作启动软件
用户 --> 启动图形编辑器
'
' 用户点击“新页”按钮创建图层
用户 --> 创建新图层
'
' 用户点击“下一页”按钮切换图层
用户 --> 切换图层
'
' 用户在编辑区选择图形种类并绘制
用户 --> 创建图形
'
' 用户在编辑区点击或框选图形进行选择
用户 --> 选择图形
'
' 用户删除已选择的图形
用户 --> 删除图形
'
' 用户拖动控制点或使用放大/缩小按钮调整尺寸
用户 --> 调整图形尺寸
'
' 用户在图形内部拖动以移动位置
用户 --> 移动图形

'
' 删除图形必须先选择图形（强制依赖）
' 因为无法删除未被选择的图形
创建图形 ..> 选择图形 : include
删除图形 ..> 选择图形 : include
调整图形尺寸 ..> 选择图形 : include
移动图形 ..> 选择图形 : include

'
' 根据约束，禁止以下 include 关系：
' 启动图形编辑器 不得 include 创建新图层
' 创建图形 不得 include 切换图层
' 创建新图层 不得 include 切换图层
' （这些关系不存在，故不绘制）

@enduml
